(function(){"use strict";var e={5155:function(e,A,t){var n=t(5130),o=t(595),a=t(6768);function i(e,A){const t=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(t)}var l=t(1241);const s={},r=(0,l.A)(s,[["render",i]]);var u=r,d=t(4458);(0,d.k)("/websynth/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var c=t(1387),p=t(4232);const g={class:"main"},v={id:"audioNodeList"};function f(e,A,t,n,o,i){const l=(0,a.g2)("NavBar"),s=(0,a.g2)("WorkSpace");return(0,a.uX)(),(0,a.CE)("div",g,[(0,a.bF)(l),(0,a.Lk)("p",v,(0,p.v_)(o.audioNodeList),1),(0,a.bF)(s,{onUpdateElements:i.updateElements},null,8,["onUpdateElements"])])}t(4114);var m=t(144),h=t(6805),k=t(2647),w=t(4039),b="data:image/png;base64,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",B="data:image/png;base64,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",y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ6SURBVHgB7d1BCgIxEADBKP7/y/oBhQhRku2qs7C4h2YOw84YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPAXt3FNz8nfXfX/f+K9vJd9L/cBZAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhAkAhD0GO5s9Wrn7c2vHRo9hAoAwAYAwAYAwAYAwAYAwAYAwAYAwAYAwAYAwm4B7W71BN7vhZ3MvwgQAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYQIAYbtcB569Wrv7c13V5SgmAAgTAAgTAAgTAAgTAAgTAAgTAAgTAAgTAAjbZRNw9Qbd7IafzT3STAAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQJgAQtss3AeEbrkkvYgKAMAGAMAGAMAGAMAGAMAGAMAGAMAGAMAGAMJuAnMg16UVMABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmABAmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPzMC7qtDR5A+WgYAAAAAElFTkSuQmCC";let L=0;function E(){return"dndnode_"+L++}const C={draggedType:(0,m.KR)(null),isDragOver:(0,m.KR)(!1),isDragging:(0,m.KR)(!1)};function Q(){const{draggedType:e,isDragOver:A,isDragging:t}=C,{addNodes:n,screenToFlowCoordinate:o,onNodesInitialized:i,updateNode:l}=(0,h.Id)();function s(e){L=e}function r(A,n){A.dataTransfer&&(A.dataTransfer.setData("application/vueflow",n),A.dataTransfer.effectAllowed="move"),e.value=n,t.value=!0,document.addEventListener("drop",c)}function u(t){t.preventDefault(),e.value&&(A.value=!0,t.dataTransfer&&(t.dataTransfer.dropEffect="move"))}function d(){A.value=!1}function c(){t.value=!1,A.value=!1,e.value=null,document.removeEventListener("drop",c)}function p(A){const t=o({x:A.clientX,y:A.clientY}),a=E(),s={id:a,type:e.value,position:t,label:`[${a}]`},{off:r}=i((()=>{l(a,(e=>({position:{x:e.position.x-e.dimensions.width/2,y:e.position.y-e.dimensions.height/2}}))),r()}));n(s)}return(0,a.wB)(t,(e=>{document.body.style.userSelect=e?"none":""})),{initializeId:s,draggedType:e,isDragOver:A,isDragging:t,onDragStart:r,onDragLeave:d,onDragOver:u,onDrop:p}}const I=(0,a.Lk)("p",null,(0,p.v_)("<"),-1),M=[I],R={class:"modulebar-content"},x=(0,a.Lk)("div",{class:"description"},"Modules",-1),N={class:"nodes"},D=(0,a.Lk)("img",{class:"icon",src:b},null,-1),T=(0,a.Lk)("img",{class:"icon",src:B},null,-1),X=(0,a.Lk)("img",{class:"icon",src:y},null,-1),Y={name:"ModuleBar",data(){return{expanded:!0}},methods:{toggleExpansion(){this.expanded=!this.expanded}}};var S=Object.assign(Y,{setup(e){const{onDragStart:A}=Q();return(e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,p.C4)(["modulebar",{expanded:e.expanded}])},[(0,a.Lk)("button",{class:"pulltab",onClick:t[0]||(t[0]=(...A)=>e.toggleExpansion&&e.toggleExpansion(...A))},M),(0,a.Lk)("div",R,[(0,a.Lk)("aside",null,[x,(0,a.Lk)("div",N,[(0,a.Lk)("div",{class:"node vue-flow__node-oscillator",draggable:!0,onDragstart:t[1]||(t[1]=e=>(0,m.R1)(A)(e,"oscillator"))},[(0,a.eW)("Oscillator "),D],32),(0,a.Lk)("div",{class:"node vue-flow__node-filter",draggable:!0,onDragstart:t[2]||(t[2]=e=>(0,m.R1)(A)(e,"filter"))},[(0,a.eW)("Filter "),T],32),(0,a.Lk)("div",{class:"node vue-flow__node-mixer",draggable:!0,onDragstart:t[3]||(t[3]=e=>(0,m.R1)(A)(e,"mixer"))},[(0,a.eW)("Mixer "),X],32)])])])],2))}});const F=S;var J=F,P=t(6572);const O=e=>((0,a.Qi)("data-v-8b0ac6fe"),e=e(),(0,a.jt)(),e),G={class:"synth_module"},z={class:"module_label"},V=O((()=>(0,a.Lk)("h3",null,"Oscillator",-1))),H={class:"controls"},q=O((()=>(0,a.Lk)("span",null,"Hz",-1))),U=O((()=>(0,a.Lk)("option",{value:"sine",selected:""},"Sine",-1))),j=O((()=>(0,a.Lk)("option",{value:"sawtooth"},"Saw",-1))),W=O((()=>(0,a.Lk)("option",{value:"square"},"Square",-1))),K=O((()=>(0,a.Lk)("option",{value:"triangle"},"Triangle",-1))),Z=[U,j,W,K];var _={__name:"OscillatorModule",props:["id","label"],emits:["nodesChange"],setup(e,{emit:A}){const{updateNodeData:t}=(0,h.Id)(),n=A,o=e;let i=e=>{t(o.id,{frequency:e}),n("moduleChanged")},l=e=>{t(o.id,{waveform:e}),n("moduleChanged")},s=(e,A)=>{t(o.id,{frequency:e,waveform:A})};return(0,a.sV)((()=>{s(400,"sine")})),(A,t)=>((0,a.uX)(),(0,a.CE)("div",G,[(0,a.bF)((0,m.R1)(h.h7),{type:"target",position:(0,m.R1)(h.yX).Top},null,8,["position"]),(0,a.bF)((0,m.R1)(h.h7),{type:"source",position:(0,m.R1)(h.yX).Bottom},null,8,["position"]),(0,a.Lk)("div",z,[V,(0,a.Lk)("p",null,(0,p.v_)(e.label),1)]),(0,a.Lk)("div",H,[(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"text",onInput:t[0]||(t[0]=e=>(0,m.R1)(i)(e.target.value)),value:"400"},null,32),q]),(0,a.Lk)("select",{onInput:t[1]||(t[1]=e=>(0,m.R1)(l)(e.target.value))},Z,32)])]))}};const $=(0,l.A)(_,[["__scopeId","data-v-8b0ac6fe"]]);var ee=$;const Ae={class:"synth_module"},te={class:"module_label"};var ne={__name:"OutputModule",props:["id","label"],setup(e){const A=e,t=(0,h.Nn)({type:"target"}),n=(0,h.j7)((()=>t.value[0]?.source));return(e,t)=>((0,a.uX)(),(0,a.CE)("div",Ae,[(0,a.bF)((0,m.R1)(h.h7),{type:"target",position:(0,m.R1)(h.yX).Left},null,8,["position"]),(0,a.Lk)("div",te,(0,p.v_)(A.label),1),(0,a.eW)(" "+(0,p.v_)((0,m.R1)(n)&&(0,m.R1)(n).data.frequency?(0,m.R1)(n).data.frequency:null),1)]))}};const oe=ne;var ae=oe;const ie=e=>((0,a.Qi)("data-v-c74f0644"),e=e(),(0,a.jt)(),e),le={class:"synth_module"},se={class:"module_label"},re=ie((()=>(0,a.Lk)("h3",null,"Filter",-1))),ue={class:"controls"},de=ie((()=>(0,a.Lk)("span",null,"Hz",-1))),ce=(0,a.Fv)('<option value="lowpass" selected data-v-c74f0644>Low-Pass</option><option value="highpass" data-v-c74f0644>High-Pass</option><option value="bandpass" data-v-c74f0644>Band-Pass</option><option value="lowshelf" data-v-c74f0644>Low-Shelf</option><option value="highshelf" data-v-c74f0644>High-Shelf</option><option value="notch" data-v-c74f0644>Notch</option>',6),pe=[ce],ge={data(){return{frequency:null,waveform:"sine"}}};var ve=Object.assign(ge,{__name:"FilterModule",props:["id","label"],emits:["nodesChange"],setup(e,{emit:A}){const{updateNodeData:t}=(0,h.Id)(),n=A,o=e;let i=e=>{t(o.id,{type:e}),n("moduleChanged")},l=e=>{t(o.id,{frequency:e}),n("moduleChanged")},s=(e,A)=>{t(o.id,{type:e,frequency:A})};return(0,a.sV)((()=>{s("lowpass",400)})),(A,t)=>((0,a.uX)(),(0,a.CE)("div",le,[(0,a.bF)((0,m.R1)(h.h7),{type:"target",position:(0,m.R1)(h.yX).Top},null,8,["position"]),(0,a.bF)((0,m.R1)(h.h7),{type:"source",position:(0,m.R1)(h.yX).Bottom},null,8,["position"]),(0,a.Lk)("div",se,[re,(0,a.Lk)("p",null,(0,p.v_)(e.label),1)]),(0,a.Lk)("div",ue,[(0,a.Lk)("div",null,[(0,a.Lk)("input",{type:"text",onInput:t[0]||(t[0]=e=>(0,m.R1)(l)(e.target.value)),value:"400"},null,32),de]),(0,a.Lk)("select",{onInput:t[1]||(t[1]=e=>(0,m.R1)(i)(e.target.value))},pe,32)])]))}});const fe=(0,l.A)(ve,[["__scopeId","data-v-c74f0644"]]);var me=fe;const he=e=>((0,a.Qi)("data-v-04184cee"),e=e(),(0,a.jt)(),e),ke={class:"synth_module"},we={class:"module_label"},be=he((()=>(0,a.Lk)("h3",null,"Mixer",-1))),Be={class:"controls"},ye={class:"inputs"},Le={class:"volumes"},Ee={class:"volume_row"},Ce={class:"volume_row"},Qe={class:"volume_row"},Ie={class:"volume_row"};var Me={__name:"MixerModule",props:["id","label"],emits:["nodesChange"],setup(e,{emit:A}){const{updateNodeData:t}=(0,h.Id)(),n=A,o=e;let i=[1,1,1,1],l=i.length,s=(e,A,n)=>{i[e]=parseFloat(parseInt(A)/100),t(o.id,{volumes:i,channels:n})},r=(e,A)=>{t(o.id,{volumes:e,channels:A}),n("moduleChanged")};return(0,a.sV)((()=>{r(i,l)})),(A,t)=>((0,a.uX)(),(0,a.CE)("div",ke,[(0,a.bF)((0,m.R1)(h.h7),{type:"source",position:(0,m.R1)(h.yX).Bottom},null,8,["position"]),(0,a.Lk)("div",we,[be,(0,a.Lk)("p",null,(0,p.v_)(e.label),1)]),(0,a.Lk)("div",Be,[(0,a.Lk)("div",ye,[(0,a.bF)((0,m.R1)(h.h7),{id:"1",type:"target",position:(0,m.R1)(h.yX).Left,style:{top:"55px"}},null,8,["position"]),(0,a.bF)((0,m.R1)(h.h7),{id:"2",type:"target",position:(0,m.R1)(h.yX).Left,style:{top:"86px"}},null,8,["position"]),(0,a.bF)((0,m.R1)(h.h7),{id:"3",type:"target",position:(0,m.R1)(h.yX).Left,style:{top:"118px"}},null,8,["position"]),(0,a.bF)((0,m.R1)(h.h7),{id:"4",type:"target",position:(0,m.R1)(h.yX).Left,style:{top:"150px"}},null,8,["position"])]),(0,a.Lk)("div",Le,[(0,a.Lk)("div",Ee,[(0,a.Lk)("input",{type:"number",value:"100",min:"0",onInput:t[0]||(t[0]=e=>(0,m.R1)(s)(0,e.target.value,(0,m.R1)(l)))},null,32),(0,a.Lk)("span",{class:(0,p.C4)({warning:(0,m.R1)(i)[0]>1})},null,2)]),(0,a.Lk)("div",Ce,[(0,a.Lk)("input",{type:"number",value:"100",min:"0",onInput:t[1]||(t[1]=e=>(0,m.R1)(s)(1,e.target.value,(0,m.R1)(l)))},null,32),(0,a.Lk)("span",{class:(0,p.C4)({warning:(0,m.R1)(i)[1]>1})},null,2)]),(0,a.Lk)("div",Qe,[(0,a.Lk)("input",{type:"number",value:"100",min:"0",onInput:t[2]||(t[2]=e=>(0,m.R1)(s)(2,e.target.value,(0,m.R1)(l)))},null,32),(0,a.Lk)("span",{class:(0,p.C4)({warning:(0,m.R1)(i)[2]>1})},null,2)]),(0,a.Lk)("div",Ie,[(0,a.Lk)("input",{type:"number",value:"100",min:"0",onInput:t[3]||(t[3]=e=>(0,m.R1)(s)(3,e.target.value,(0,m.R1)(l)))},null,32),(0,a.Lk)("span",{class:(0,p.C4)({warning:(0,m.R1)(i)[3]>1})},null,2)])])])]))}};const Re=(0,l.A)(Me,[["__scopeId","data-v-04184cee"]]);var xe=Re,Ne={__name:"WorkSpace",emits:["updateElements"],setup(e,{emit:A}){const{toObject:t,fromObject:n,onConnect:o,addEdges:i}=(0,h.Id)();o(i);const l=(0,a.WQ)("eventBus");let s=null;const r=A,u={oscillator:(0,m.IG)(ee),output:(0,m.IG)(ae),filter:(0,m.IG)(me),mixer:(0,m.IG)(xe)};let d=(0,m.KR)([{id:"4",type:"output",label:"Output",position:{x:500,y:300}}]);const c={nodes:[{id:"1",type:"output",position:{x:500,y:300},data:{},label:"Output"}],edges:[],position:[0,0],zoom:1,viewport:{x:0,y:0,zoom:1}};(0,a.sV)((()=>{(0,P.Jt)("flow").then((e=>{let A=JSON.parse(e);0===A.nodes.filter((e=>"output"===e.type)).length&&A.nodes.push({id:"4",type:"output",label:"Output",position:{x:500,y:300}}),n(A)})),l.on("navBar-click",(e=>{"reset workspace"===e&&(console.log("resetting workspace..."),n(c),v())})),v()}));const g=e=>{console.log("instance has been set"),s=e,v()},v=()=>{if(s){let e=s.getElements;r("updateElements",e),(0,P.hZ)("flow",JSON.stringify(t()))}},f=()=>{(0,P.Jt)("flow").then((e=>{let A=JSON.parse(e),t=A.nodes.map((e=>parseInt(e.id.substring(8)))).filter((e=>!isNaN(e)));t=Math.max(...t),L(t===-1/0?0:t+1)}))},{onDragOver:b,onDrop:B,onDragLeave:y,initializeId:L}=Q();return f(),(e,A)=>((0,a.uX)(),(0,a.CE)("div",{class:"workspace",onDrop:A[0]||(A[0]=(...e)=>(0,m.R1)(B)&&(0,m.R1)(B)(...e))},[(0,a.bF)(J),(0,a.bF)((0,m.R1)(h.nO),{nodes:(0,m.R1)(d),"node-types":u,"snap-to-grid":!0,"snap-grid":[20,20],"connect-on-click":!0,onNodesChange:v,onEdgesChange:v,onPaneReady:g,onDragover:(0,m.R1)(b),onDragleave:(0,m.R1)(y)},{"node-oscillator":(0,a.k6)((e=>[(0,a.bF)(ee,(0,a.v6)(e,{onModuleChanged:v}),null,16)])),"node-filter":(0,a.k6)((e=>[(0,a.bF)(me,(0,a.v6)(e,{onModuleChanged:v}),null,16)])),"node-output":(0,a.k6)((e=>[(0,a.bF)(ae,(0,p._B)((0,a.Ng)(e)),null,16)])),"node-mixer":(0,a.k6)((e=>[(0,a.bF)(xe,(0,p._B)((0,a.Ng)(e)),null,16)])),default:(0,a.k6)((()=>[(0,a.bF)((0,m.R1)(k.V)),(0,a.bF)((0,m.R1)(w.of))])),_:1},8,["nodes","onDragover","onDragleave"])],32))}};const De=Ne;var Te=De;const Xe={class:"navbar"},Ye={class:"navbar-content"},Se=(0,a.Lk)("a",null,[(0,a.Lk)("b",null,"websynth"),(0,a.eW)(" //")],-1),Fe=(0,a.Lk)("a",null,"home",-1),Je=[Fe],Pe=(0,a.Lk)("a",null,"files",-1),Oe=[Pe],Ge=(0,a.Lk)("a",null,"view",-1),ze=[Ge],Ve=(0,a.Lk)("a",null,"options",-1),He={class:"options"};function qe(e,A,t,n,o,i){return(0,a.uX)(),(0,a.CE)("div",Xe,[(0,a.Lk)("div",Ye,[Se,(0,a.Lk)("div",{class:"category",onClick:A[0]||(A[0]=e=>{e.target.classList.toggle("active")})},Je),(0,a.Lk)("div",{class:"category",onClick:A[1]||(A[1]=e=>{e.target.classList.toggle("active")})},Oe),(0,a.Lk)("div",{class:"category",onClick:A[2]||(A[2]=e=>{e.target.classList.toggle("active")})},ze),(0,a.Lk)("div",{class:"category",onClick:A[4]||(A[4]=e=>{e.target.classList.toggle("active")})},[Ve,(0,a.Lk)("div",He,[(0,a.Lk)("button",{onClick:A[3]||(A[3]=e=>i.emitEvent("reset workspace"))},"reset workspace")])])])])}var Ue={name:"NavBar",inject:["eventBus"],methods:{emitEvent(e){this.eventBus.emit("navBar-click",e)}}};const je=(0,l.A)(Ue,[["render",qe]]);var We=je,Ke={name:"HomeView",components:{WorkSpace:Te,NavBar:We},data(){return{audioContext:null,mainVolume:null,elements:null,audioNodeList:[]}},mounted(){this.initAudio()},methods:{initAudio(){this.audioContext=new AudioContext,this.mainVolume=this.audioContext.createGain(),this.mainVolume.connect(this.audioContext.destination),this.mainVolume.gain.value=1,console.log("initialized audio")},updateElements(e){this.elements=e,this.elements.forEach((e=>{this.handleNodeList(e),this.buildConnection(e)})),this.handleOrphans()},getModuleChild(e){return this.elements.find((A=>"default"==A.type&&A.sourceNode.id===e))},handleOrphans(){this.audioNodeList.forEach(((e,A)=>{let t=this.elements.find((A=>A.id===e.id));t||(Array.isArray(e.module)?e.module[0].disconnect():e.module.disconnect(),this.audioNodeList.splice(A,1))}))},buildConnection(e){let A=this.getModuleChild(e.id);if(A){let n=this.audioNodeList.find((A=>A.id===e.id)),o=this.audioNodeList.find((e=>e.id===A.target));if(A&&!n.connected){"output"===A.targetNode.type?(Array.isArray(n.module)?n.module[0].connect(this.mainVolume):n.module.connect(this.mainVolume),console.log("connected to main volume")):"mixer"===A.targetNode.type?n.module.connect(o.module[parseInt(A.targetHandle)]):Array.isArray(n.module)?n.module[0].connect(o.module):n.module.connect(o.module),n.connected=!0;try{n.module.start(),console.log("started oscillator after main volume connection")}catch(t){console.log(t)}}}else try{let A=this.audioNodeList.find((A=>A.id===e.id));A.connected=!1,Array.isArray(A.module)?A.module[0].disconnect():A.module.disconnect()}catch(t){}},handleNodeList(e){if("output"!==e.type&&"default"!==e.type){let t=this.audioNodeList.find((A=>A.id===e.id)),n=!t,o=!1;switch(t&&(t=t.module),e.type){case"mixer":if(e.data){if(n){let A=[this.audioContext.createGain()];A[0].gain.setValueAtTime(1,this.audioContext.currentTime);for(let t=0;t<e.data.channels;t++){let e=this.audioContext.createGain();e.connect(A[0]),A.push(e)}t=A}for(let n=0;n<e.data.channels;n++)try{t[n+1].gain.setValueAtTime(e.data.volumes[n],this.audioContext.currentTime)}catch(A){}o=!0}break;case"filter":e.data&&e.data.frequency&&(n&&(t=this.audioContext.createBiquadFilter()),t.frequency.setValueAtTime(e.data.frequency,this.audioContext.currentTime+.01),t.type=e.data.type,o=!0);break;case"oscillator":n&&(t=this.audioContext.createOscillator()),e.data.frequency&&(t.frequency.value=e.data.frequency,t.type=e.data.waveform,o=!0);break}n&&o&&this.audioNodeList.push({id:e.id,module:t,connected:!1})}},handleOscillator(e,A,t){let n=!1;if(this.audioNodeList.forEach((o=>{if(o.id===e)if(o.module.frequency.value=A,o.module.type=t,n=!0,this.getModuleChild(e)&&"output"===this.getModuleChild(e).targetNode.type)console.log("connected to main output"),o.module.connect(this.mainVolume),o.connected=!0;else if(o.connected)try{o.module.disconnect(this.mainVolume),o.connected=!1}catch(a){o.connected=!1}})),!n){const n=this.audioContext.createOscillator();this.getModuleChild(e)&&"output"===this.getModuleChild(e).targetNode.type&&(console.log("added to osc list and connected to main output"),n.connect(this.mainVolume)),n.type=t,n.frequency.value=A,n.start(),this.audioNodeList.push({id:e,module:n,connected:!0})}}}};const Ze=(0,l.A)(Ke,[["render",f]]);var _e=Ze;const $e=[{path:"/",name:"home",component:_e},{path:"/about",name:"about",component:()=>t.e(594).then(t.bind(t,603))}],eA=(0,c.aE)({history:(0,c.Bt)(),routes:$e});var AA=eA,tA=t(782),nA=(0,tA.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});const oA=(0,o.A)();(0,n.Ef)(u).use(nA).use(AA).provide("eventBus",oA).mount("#app")}},A={};function t(n){var o=A[n];if(void 0!==o)return o.exports;var a=A[n]={exports:{}};return e[n].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(A,n,o,a){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],a=e[u][2];for(var l=!0,s=0;s<n.length;s++)(!1&a||i>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[s])}))?n.splice(s--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var r=o();void 0!==r&&(A=r)}}return A}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]}}(),function(){t.n=function(e){var A=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(A,{a:A}),A}}(),function(){t.d=function(e,A){for(var n in A)t.o(A,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:A[n]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(A,n){return t.f[n](e,A),A}),[]))}}(),function(){t.u=function(e){return"js/about.2fad42c8.js"}}(),function(){t.miniCssF=function(e){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,A){return Object.prototype.hasOwnProperty.call(e,A)}}(),function(){var e={},A="websynth:";t.l=function(n,o,a,i){if(e[n])e[n].push(o);else{var l,s;if(void 0!==a)for(var r=document.getElementsByTagName("script"),u=0;u<r.length;u++){var d=r[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==A+a){l=d;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,t.nc&&l.setAttribute("nonce",t.nc),l.setAttribute("data-webpack",A+a),l.src=n),e[n]=[o];var c=function(A,t){l.onerror=l.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),o&&o.forEach((function(e){return e(t)})),A)return A(t)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=c.bind(null,l.onerror),l.onload=c.bind(null,l.onload),s&&document.head.appendChild(l)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/websynth/"}(),function(){var e={524:0};t.f.j=function(A,n){var o=t.o(e,A)?e[A]:void 0;if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(t,n){o=e[A]=[t,n]}));n.push(o[2]=a);var i=t.p+t.u(A),l=new Error,s=function(n){if(t.o(e,A)&&(o=e[A],0!==o&&(e[A]=void 0),o)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+A+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,o[1](l)}};t.l(i,s,"chunk-"+A,A)}},t.O.j=function(A){return 0===e[A]};var A=function(A,n){var o,a,i=n[0],l=n[1],s=n[2],r=0;if(i.some((function(A){return 0!==e[A]}))){for(o in l)t.o(l,o)&&(t.m[o]=l[o]);if(s)var u=s(t)}for(A&&A(n);r<i.length;r++)a=i[r],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(u)},n=self["webpackChunkwebsynth"]=self["webpackChunkwebsynth"]||[];n.forEach(A.bind(null,0)),n.push=A.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(5155)}));n=t.O(n)})();
//# sourceMappingURL=app.0e159138.js.map