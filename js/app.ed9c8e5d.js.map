{"version":3,"file":"js/app.ed9c8e5d.js","mappings":"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","sources":["webpack://websynth/./src/App.vue","webpack://websynth/./src/App.vue?7ccd","webpack://websynth/./src/registerServiceWorker.js","webpack://websynth/./src/views/MainView.vue","webpack://websynth/./src/mixins/useDnD.js","webpack://websynth/./src/components/ModuleBar.vue","webpack://websynth/./src/components/ModuleBar.vue?a3f0","webpack://websynth/./src/components/NotificationCenter.vue","webpack://websynth/./src/store/index.js","webpack://websynth/./src/components/NotificationCenter.vue?92ce","webpack://websynth/./src/components/SaveModal.vue","webpack://websynth/./src/components/SaveModal.vue?2d4c","webpack://websynth/./src/mixins/websocketHandler.js","webpack://websynth/./src/components/synth_modules/OscillatorModule.vue","webpack://websynth/./src/components/synth_modules/OscillatorModule.vue?d7ac","webpack://websynth/./src/components/synth_modules/OutputModule.vue","webpack://websynth/./src/components/synth_modules/FilterModule.vue","webpack://websynth/./src/components/synth_modules/FilterModule.vue?ed0d","webpack://websynth/./src/components/synth_modules/MixerModule.vue","webpack://websynth/./src/components/synth_modules/MixerModule.vue?56a7","webpack://websynth/./src/components/synth_modules/EnvelopeModule.vue","webpack://websynth/./src/components/synth_modules/EnvelopeModule.vue?c7f2","webpack://websynth/./src/components/synth_modules/VCAModule.vue","webpack://websynth/./src/components/synth_modules/CursorModule.vue","webpack://websynth/./src/components/synth_modules/CursorModule.vue?b5f6","webpack://websynth/./src/components/synth_modules/SequencerModule.vue","webpack://websynth/./src/components/synth_modules/SequencerModule.vue?1122","webpack://websynth/./src/components/synth_modules/ClockModule.vue","webpack://websynth/./src/components/synth_modules/ClockModule.vue?e1c7","webpack://websynth/./src/mixins/midiNoteConverter.js","webpack://websynth/./src/components/synth_modules/MidiModule.vue","webpack://websynth/./src/components/synth_modules/MidiModule.vue?84bf","webpack://websynth/./src/components/synth_modules/CommentModule.vue","webpack://websynth/./src/components/synth_modules/CommentModule.vue?0a19","webpack://websynth/./src/components/WorkSpace.vue","webpack://websynth/./src/components/WorkSpace.vue?b819","webpack://websynth/./src/components/NavBar.vue","webpack://websynth/./src/components/NavBar.vue?01fd","webpack://websynth/./src/mixins/envelopeGenerator.js","webpack://websynth/./src/views/MainView.vue?7ba4","webpack://websynth/./src/router/index.js","webpack://websynth/./src/main.js","webpack://websynth/webpack/bootstrap","webpack://websynth/webpack/runtime/chunk loaded","webpack://websynth/webpack/runtime/compat get default export","webpack://websynth/webpack/runtime/define property getters","webpack://websynth/webpack/runtime/global","webpack://websynth/webpack/runtime/hasOwnProperty shorthand","webpack://websynth/webpack/runtime/publicPath","webpack://websynth/webpack/runtime/jsonp chunk loading","webpack://websynth/webpack/startup"],"sourcesContent":["<template>\n  <router-view/>\n</template>\n\n<style>\n:root {\n  --c-primary: #FEFAE0;\n  --c-secondary: #D4A373;\n  --c-tertiary: #FAEDCD;\n  --c-four: #E9EDC9;\n  --c-five: #CCD5AE;\n  --c-semitransparent: rgba(0,0,0,0.2);\n\n  --warning-one: #ff7300;\n  --warning-two: #ff0000;\n\n  --lighten: rgba(255,255,255,0.8);\n}\n\n#app {\n  font-family: 'Inter', sans-serif;\n}\n\nbody {\n  margin: 0;\n  background: var(--c-primary);\n}\n\n@media only screen and (max-width: 500px) {\n  .hide-on-small-vp {\n    display: none;\n  }\n}\n\n.warning {\n  animation: warning-color 1s infinite;\n}\n\n@keyframes warning-color {\n  0% {background : var(--warning-one); color: var(--warning-one);}\n  50% {background : var(--warning-two); color: var(--warning-two);}\n  100% {background : var(--warning-one); color: var(--warning-one);}\n}\n\n.synth_module {\n  background: var(--c-primary);\n}\n\n.custom_handle {\n  position: relative !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  transform: none !important;\n}\n\n.port_input {\n  background: red !important;\n}\n\n.port_output {\n  background: blue !important;\n}\n\n.divider_row {\n  height: 20px;\n}\n\n.vue-flow__edges {\n  z-index: 1001 !important;\n}\n\n.vue-flow__node-cursor {\n  z-index: 1002 !important;\n}\n\n.controls {\n  display: flex;\n  flex-direction: column;\n\n  .control_row {\n    display: flex;\n    justify-content: start;\n    gap: 10px;\n    align-items: center;\n\n    &.cv {\n      justify-content: end;\n\n      &:before {\n        content: '';\n        background: black;\n        border: solid 0.5px black;\n        position: absolute;\n        transform: translate(-20px, -20px);\n        height: 15px;\n      }\n    }\n  }\n\n  input, select {\n    background: var(--c-tertiary);\n    border: none;\n    border-radius: 5px;\n    height: 20px;\n    margin: 10px 0 10px 0;\n  }\n}\n\n.module_label {\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  gap: 10px;\n\n  .icon {\n    width: 30px;\n  }\n}\n\n.vue-flow__node-output {\n  border: none !important;\n  padding: 0 !important;\n  width: 120px !important;\n  --vf-box-shadow: none !important;\n}\n\n.vue-flow__node-cursor {\n  transition: transform 0.4s;\n}\n\n/*** Knob Control Styles ***/\n.knobBG {\n  color: var(--c-primary);\n}\n\n.knobText {\n  color: black;\n  font-size: 1.4rem;\n}\n\n.knobRim {\n  color: var(--c-primary);\n}\n\n.knobValueArch {\n  color: var(--c-secondary);\n}\n\n\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=d244b7f6\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=d244b7f6&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","<template>\n  <div class=\"main\">\n    <NavBar></NavBar>\n    <!--<p id=\"audioNodeList\">{{audioNodeList}}</p>-->\n    <WorkSpace @updateElements=\"updateElements\" @elementChanges=\"handleChanges\"></WorkSpace>\n  </div>\n</template>\n\n<script>\n// This is the Main View of this SPA. It also handles everything audio-related and integrates the Web Audio API.\n// The array of frontend modules gets synchronized with the audio context here. (mainly by handleNodeList and buildConnection)\n\n// ---------- SETUP ---------- //\nimport WorkSpace from \"@/components/WorkSpace.vue\";\nimport NavBar from \"@/components/NavBar.vue\";\nimport EnvelopeGenerator from '@/mixins/envelopeGenerator'\n\nexport default {\n  name: 'HomeView',\n  inject: [\"eventBus\"],\n  components: {\n    WorkSpace,\n    NavBar\n  },\n  data() {\n    return {\n      audioContext: null,\n      mainVolume: null,\n      elements: null,\n      audioNodeList: []\n    }\n  },\n  mounted(){\n    this.initAudio();\n    this.resetConnectionStatus();\n\n    this.eventBus.on(\"navBar-click\", (param) => {\n      if(param === \"start playback\"){\n        this.$store.commit('changePlaybackState', true)\n        this.mainVolume.connect(this.audioContext.destination)\n        this.resetConnectionStatus()\n        this.eventBus.emit(\"getModules\", \"getModules\")\n      } else if (param === \"pause playback\"){\n        this.$store.commit('changePlaybackState', false)\n        this.mainVolume.disconnect();\n      }\n    })\n\n    this.eventBus.on(\"triggerModule\", (moduleId) => {\n      this.triggerModule(moduleId)\n    })\n  },\n  methods: {\n    initAudio(){\n      this.audioContext = new AudioContext();\n      this.mainVolume = this.audioContext.createGain();\n      this.mainVolume.gain.value = 1.0;\n      console.log(\"initialized audio\")\n    },\n    resetConnectionStatus(){\n      this.audioNodeList.forEach(node => {\n        node.connected = false\n      })\n    },\n    handleChanges(input){\n      if(input){\n        this.handleNodeList(input)\n\n        this.elements.filter(e => e.type !== \"default\" && e.type !== \"output\").forEach(module => {\n          this.buildConnection(module)\n        })\n      }\n    },\n    triggerModule(id){\n      let module = this.elements.find(m => m.id === id)\n\n      switch(module.type){\n        case 'envelope':\n          try{\n            this.audioNodeList.find(n => n.id === module.id).module.trigger();\n          } catch {\n            //the module has likely not been created yet\n          }\n          break;\n      }\n    },\n    updateElements(value){\n      this.elements = value\n      this.elements.filter(e => e.type !== \"default\" && e.type !== \"output\").forEach(module => {\n        this.buildConnection(module)\n      })\n      this.handleOrphans()\n    },\n    getModuleChild(id){\n      //m.type == \"default\" is used to search in edges (connections between modules) which are part of the elements array\n      return this.elements.find(m => m.type == \"default\" && m.sourceNode.id === id)\n    },\n    buildConnection(source){\n      let target = this.getModuleChild(source.id)\n\n      if(target){\n        let audioNode = this.audioNodeList.find(n => n.id === source.id)\n        let targetAudioNode = this.audioNodeList.find(n => n.id === target.target)\n\n        try{\n          if (audioNode && target && !audioNode.connected){\n\n            let sourceModule = Array.isArray(audioNode.module) ? audioNode.module[0] : audioNode.module.module ?? audioNode.module\n\n            switch(target.targetNode.type){\n              case 'output':\n                if(Array.isArray(audioNode.module)) {\n                  audioNode.module[0].connect(this.mainVolume)\n                } else {\n                  sourceModule.connect(this.mainVolume)\n                }\n                break;\n              case 'mixer':\n                sourceModule.connect(targetAudioNode.module[parseInt(target.targetHandle)])\n                break;\n              default:\n                if(target.targetHandle && targetAudioNode){\n                  if(target.targetHandle === \"main\"){\n                    sourceModule.connect(targetAudioNode.module)\n                  } else {\n                    if(target.targetHandle.includes(\"prop\")){\n                      if(source.handleBounds.source[0].id.includes(\"out\") && source.handleBounds.source[0].id.substring(4) === \"audio\"){\n                        //input signal is audio, so connect to gain node so that intensity is controllable\n                        sourceModule.connect(targetAudioNode.cvControls[target.targetHandle.substring(5)])\n                      } else {\n                        //input \"signal\" takes direct control of the parameter, so connect directly to it and ignore the gain node\n                        sourceModule.connect(targetAudioNode.module[target.targetHandle.substring(5)])\n                      }\n                      try{\n                        sourceModule.start();\n                      } catch {\n                        //do nothing\n                      }\n                    } else {\n                      sourceModule.connect(targetAudioNode.module[target.targetHandle])\n                    }\n                  }\n                }\n                break;\n            }\n\n            audioNode.connected = true\n            try{ //in case it is an oscillator, we have to start it *after* connecting to the main Volume\n              audioNode.module.start()\n            } catch(e){\n              //do nothing\n            }\n          }\n        } catch(e) {\n          //do nothing\n        }\n      } else {\n        this.handleDisconnection(source)\n      }\n    },\n    handleNodeList(module){\n      if(module.type !== \"output\" && module.type !== \"default\"){\n        let Node = this.audioNodeList.find(n => n.id === module.id);\n        let isNewNode = !Node\n        let createdNewNode = false\n        let cvControls = {}\n        if(Node) cvControls = Node.cvControls ?? {}\n        if(Node) Node = Node.module\n\n        switch(module.type){\n          case 'midi':\n            if(isNewNode){\n              Node = {module: new ConstantSourceNode(this.audioContext, {\n                  offset: 0\n                })}\n            } else {\n              Node.module.offset.value = module.data.frequency\n            }\n            if(isNewNode) createdNewNode = true\n            break;\n          case 'sequencer':\n                if(isNewNode){\n                  Node = {steps: [0], currentStep: 0, module: new ConstantSourceNode(this.audioContext, {\n                      offset: 0\n                    })}\n                } else {\n                  Node.steps = module.data.steps\n                  Node.currentStep = module.data.currentStep\n                  Node.module.offset.value = module.data.steps[module.data.currentStep]\n                }\n\n              if(isNewNode) createdNewNode = true\n            break;\n          case 'envelope':\n            if(isNewNode){\n              Node = new EnvelopeGenerator(this.audioContext, (module.data.attack / 100), (module.data.decay / 100), (module.data.sustain / 100), (module.data.release / 100), module.data.intensity)\n              createdNewNode = true\n            } else {\n              Node.updateData((module.data.attack / 100), (module.data.decay / 100), (module.data.sustain / 100), (module.data.release / 100), module.data.intensity)\n            }\n            break;\n          case 'vca':\n            if(isNewNode){\n              Node = this.audioContext.createGain()\n              Node.gain.setValueAtTime(0, this.audioContext.currentTime)\n              createdNewNode = true\n            }\n            break;\n          case 'mixer':\n            if(module.data && module.data.channels){\n              if(isNewNode){\n                //the gain node at position 0 is our main out of the mixer\n                let gainNodes = [this.audioContext.createGain()]\n                gainNodes[0].gain.setValueAtTime(1, this.audioContext.currentTime)\n                for(let i = 0; i < module.data.channels ; i++){\n                  let newGainNode = this.audioContext.createGain()\n                  newGainNode.connect(gainNodes[0])\n                  gainNodes.push(newGainNode)\n                }\n                Node = gainNodes\n              }\n              for(let i = 0; i < module.data.channels ; i++){\n                try{\n                  Node[i + 1].gain.setValueAtTime(module.data.volumes[i], this.audioContext.currentTime)\n                } catch(e){\n                  //do nothing\n                }\n              }\n              createdNewNode = true\n            }\n            break;\n          case 'filter':\n            if(module.data && module.data.frequency){\n              if(isNewNode) {\n                Node = this.audioContext.createBiquadFilter()\n                cvControls = this.buildCVControls(Node, [\"frequency\"])\n              }\n              Node.frequency.setValueAtTime(module.data.frequency, this.audioContext.currentTime + 0.01)\n              Node.type = module.data.type\n              cvControls.frequency.gain.setValueAtTime(module.data.cv_in_level, this.audioContext.currentTime + 0.01)\n              createdNewNode = true\n            }\n            break;\n          case 'oscillator':\n            if(isNewNode){\n              Node = this.audioContext.createOscillator()\n              cvControls = this.buildCVControls(Node, [\"frequency\", \"detune\"])\n            }\n            if(module.data.frequency && Node.frequency){\n              Node.frequency.value = module.data.frequency\n              Node.type = module.data.waveform\n              cvControls.frequency.gain.setValueAtTime(module.data.cv_in_level, this.audioContext.currentTime)\n              createdNewNode = true\n            }\n            break;\n        }\n        if(isNewNode && createdNewNode) this.audioNodeList.push({\"id\": module.id, module: Node, connected: false, cvControls: cvControls})\n      }\n    },\n    buildCVControls(node, controls){\n      //build an array of gain nodes which are connected to the audio module's properties to control intensity of cv signals\n      let out = {}\n      controls.forEach(ctrl => {\n        out[ctrl] = this.audioContext.createGain()\n        out[ctrl].gain.setValueAtTime(1, this.audioContext.currentTime)\n        out[ctrl].connect(node[ctrl])\n      })\n      return out\n    },\n    handleDisconnection(source){\n      try {\n        let audioNode = this.audioNodeList.find(n => n.id === source.id)\n\n        if(audioNode){\n          audioNode.connected = false\n          if(Array.isArray(audioNode.module)){\n            audioNode.module[0].disconnect()\n          } else if (audioNode.module.module) {\n            audioNode.module.module.disconnect()\n          } else {\n            audioNode.module.disconnect()\n          }\n        }\n      } catch(e){\n        //do nothing\n      }\n    },\n    handleOrphans(){\n      this.audioNodeList.forEach((audioNode, index) => {\n        let match = this.elements.find(e => e.id === audioNode.id)\n        if(!match){\n          try{\n            if(Array.isArray(audioNode.module)) {\n              audioNode.module[0].disconnect()\n            } else {\n              audioNode.module.disconnect()\n            }\n          } catch {\n            //do nothing\n          }\n\n          this.audioNodeList.splice(index, 1)\n        }\n      })\n    }\n  }\n}\n</script>\n<style>\n  .main {\n    width: 100vw;\n    height: 100vh;\n  }\n\n  #audioNodeList {\n    position: absolute;\n    z-index: -10;\n    color: rgba(0,0,0,0.2);\n    font-family: monospace;\n    font-size: 0.6rem;\n  }\n</style>\n","import { useVueFlow } from '@vue-flow/core'\nimport { ref, watch } from 'vue'\n\nlet id = 0\n\n\n/**\n * @returns {string} - A unique id.\n */\nfunction getId() {\n    return `dndnode_${id++}`\n}\n\n/**\n * In a real world scenario you'd want to avoid creating refs in a global scope like this as they might not be cleaned up properly.\n * @type {{draggedType: Ref<string|null>, isDragOver: Ref<boolean>, isDragging: Ref<boolean>}}\n */\nconst state = {\n    /**\n     * The type of the node being dragged.\n     */\n    draggedType: ref(null),\n    isDragOver: ref(false),\n    isDragging: ref(false),\n}\n\nexport default function useDragAndDrop() {\n    const { draggedType, isDragOver, isDragging } = state\n\n    const { addNodes, screenToFlowCoordinate, onNodesInitialized, updateNode } = useVueFlow()\n\n    watch(isDragging, (dragging) => {\n        document.body.style.userSelect = dragging ? 'none' : ''\n    })\n\n    function initializeId(start_id){\n        id = start_id\n    }\n\n    function onDragStart(event, type) {\n        if (event.dataTransfer) {\n            event.dataTransfer.setData('application/vueflow', type)\n            event.dataTransfer.effectAllowed = 'move'\n        }\n\n        draggedType.value = type\n        isDragging.value = true\n\n        document.addEventListener('drop', onDragEnd)\n    }\n\n    /**\n     * Handles the drag over event.\n     *\n     * @param {DragEvent} event\n     */\n    function onDragOver(event) {\n        event.preventDefault()\n\n        if (draggedType.value) {\n            isDragOver.value = true\n\n            if (event.dataTransfer) {\n                event.dataTransfer.dropEffect = 'move'\n            }\n        }\n    }\n\n    function onDragLeave() {\n        isDragOver.value = false\n    }\n\n    function onDragEnd() {\n        isDragging.value = false\n        isDragOver.value = false\n        draggedType.value = null\n        document.removeEventListener('drop', onDragEnd)\n    }\n\n    /**\n     * Handles the drop event.\n     *\n     * @param {DragEvent} event\n     */\n    function onDrop(event) {\n        const position = screenToFlowCoordinate({\n            x: event.clientX,\n            y: event.clientY,\n        })\n\n        const nodeId = getId()\n\n        const newNode = {\n            id: nodeId,\n            type: draggedType.value,\n            position,\n            label: `[${nodeId}]`,\n        }\n\n        /**\n         * Align node position after drop, so it's centered to the mouse\n         *\n         * We can hook into events even in a callback, and we can remove the event listener after it's been called.\n         */\n        const { off } = onNodesInitialized(() => {\n            updateNode(nodeId, (node) => ({\n                position: { x: node.position.x - node.dimensions.width / 2, y: node.position.y - node.dimensions.height / 2 },\n            }))\n\n            off()\n        })\n\n        addNodes(newNode)\n        return newNode\n    }\n\n    return {\n        initializeId,\n        draggedType,\n        isDragOver,\n        isDragging,\n        onDragStart,\n        onDragLeave,\n        onDragOver,\n        onDrop,\n    }\n}\n","<template>\n  <div class=\"modulebar\" :class=\"{expanded: expanded}\">\n    <button class=\"pulltab\" @click=\"toggleExpansion\"><p>{{\"<\"}}</p></button>\n    <div class=\"modulebar-content\">\n      <aside>\n        <div class=\"description\">Modules</div>\n        <div class=\"nodes\">\n          <div class=\"node vue-flow__node-oscillator\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'oscillator')\">Oscillator <img class=\"icon\" src=\"@/assets/icons/icon_oscillator.png\"></div>\n          <div class=\"node vue-flow__node-filter\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'filter')\">Filter <img class=\"icon\" src=\"@/assets/icons/icon_filter.png\"></div>\n          <div class=\"node vue-flow__node-mixer\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'mixer')\">Mixer <img class=\"icon\" src=\"@/assets/icons/icon_mixer.png\"></div>\n          <div class=\"node vue-flow__node-envelope\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'envelope')\">Envelope <img class=\"icon\" src=\"@/assets/icons/icon_envelope.png\"></div>\n          <div class=\"node vue-flow__node-vca\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'vca')\">VCA <img class=\"icon\" src=\"@/assets/icons/icon_vca.png\"></div>\n          <div class=\"node vue-flow__node-sequencer\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'sequencer')\">Sequencer <img class=\"icon\" src=\"@/assets/icons/icon_sequencer.png\"></div>\n          <div class=\"node vue-flow__node-clock\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'clock')\">Clock <img class=\"icon\" src=\"@/assets/icons/icon_clock.png\"></div>\n          <div class=\"node vue-flow__node-midi\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'midi')\">Midi <img class=\"icon\" src=\"@/assets/icons/icon_midi.png\"></div>\n          <div class=\"node vue-flow__node-comment\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'comment')\">Comment <img class=\"icon\" src=\"@/assets/icons/icon_comment.png\"></div>\n        </div>\n      </aside>\n    </div>\n  </div>\n</template>\n\n\n<script setup>\nimport useDragAndDrop from '@/mixins/useDnD'\nconst { onDragStart } = useDragAndDrop()\n</script>\n\n<script>\n\nexport default {\n  name: 'ModuleBar',\n  data(){\n    return {\n      expanded: true\n    }\n  },\n  methods: {\n    toggleExpansion(){\n      this.expanded = !this.expanded\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.modulebar {\n  z-index: 10;\n  position: absolute;\n  width: 200px;\n  right: -220px;\n  transition: right 0.15s ease-in-out;\n  top: 0;\n  background: var(--c-five);\n  font-family: monospace;\n  padding: 10px;\n  border-radius: 0 0 0 4px;\n\n  &.expanded {\n    right: 0;\n\n    .pulltab p {\n      transform: rotate(180deg);\n    }\n  }\n\n  .pulltab {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    top: 0;\n    left: -40px;\n    width: 40px;\n    height: 40px;\n    background: var(--c-five);\n    border-radius: 0 0 0 4px;\n    border: none;\n\n    p {\n      transition: all 0.15s ease-in-out;\n      font-size: 1.2rem;\n    }\n  }\n}\n\n.description {\n  margin-bottom: 20px;\n}\n\naside .nodes {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  overflow-y: scroll;\n}\n\naside .nodes .node {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: white;\n  text-align: left;\n  padding: 10px;\n  border: solid 1px black;\n  border-radius: 5px;\n  font-size: 0.8rem;\n\n  .icon {\n    width: 30px;\n    padding: 0;\n    margin: 0;\n  }\n}\n</style>\n","import script from \"./ModuleBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ModuleBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ModuleBar.vue?vue&type=style&index=0&id=d3630cfa&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"notifications\">\n    <div v-for=\"notification in store().state.notifications\" :key=\"notification\" class=\"notification\">\n      <h2>User <b>{{notification.username}}</b> wants to join your session.</h2>\n      <div class=\"buttons\">\n        <button @click=\"handleInvite(true, notification.userid)\">accept</button>\n        <button @click=\"handleInvite(false, notification.userid)\">decline</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport store from \"@/store\";\nexport default {\n  name: 'NotificationCenter',\n  inject: [\"eventBus\"],\n  methods: {\n    store() {\n      return store\n    },\n    handleInvite(accept, id){\n      this.eventBus.emit(\"handleInvite\", {accept: accept, userid: id})\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.notifications {\n  position: absolute;\n  top: 0;\n  padding-top: 20px;\n  padding-left: 10px;\n  z-index: 1010;\n\n  .notification {\n    background: var(--c-secondary);\n    padding: 10px;\n    border-radius: 5px;\n\n    h2 {\n      font-size: 1rem;\n      font-weight: normal;\n      margin: 0 0 10px 0;\n    }\n\n    .buttons {\n      display: flex;\n      justify-content: end;\n      gap: 5px;\n\n      button {\n        cursor: pointer;\n        background: var(--c-secondary);\n        border-radius: 5px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        border: none;\n\n        &:hover {\n          background: var(--lighten);\n        }\n      }\n    }\n  }\n}\n</style>\n","import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n    playbackHalted: false,\n    modalOpened: false,\n    websocketConnected: false,\n    sessionID: null,\n    userID: null,\n    error: null,\n    info: null,\n    notifications: [],\n    inputType: \"knob\"\n  },\n  getters: {\n  },\n  mutations: {\n    changePlaybackState(state, p){\n      state.playbackHalted = p\n    },\n    changeModalOpened(state, p) {\n      state.modalOpened = p\n    },\n    changeWebsocketConnected(state, p) {\n      state.websocketConnected = p\n    },\n    changeSessionID(state, p) {\n      state.sessionID = p\n    },\n    changeUserID(state, p){\n      state.userID = p\n    },\n    changeError(state, p) {\n      state.error = p\n    },\n    changeInfo(state, p) {\n      state.info = p\n    },\n    changeNotifications(state, p){\n      state.notifications = p\n    },\n    toggleInputType(state){\n      state.inputType = state.inputType === \"knob\" ? \"text\" : \"knob\"\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n","import { render } from \"./NotificationCenter.vue?vue&type=template&id=02cc8050\"\nimport script from \"./NotificationCenter.vue?vue&type=script&lang=js\"\nexport * from \"./NotificationCenter.vue?vue&type=script&lang=js\"\n\nimport \"./NotificationCenter.vue?vue&type=style&index=0&id=02cc8050&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <div class=\"modal savemodal\" :class=\"{visible: visible && type === 'save'}\">\n      <h2>What's the name of your creation?</h2>\n      <div class=\"text_input\">\n        <input type=\"text\" id=\"patchname\" placeholder=\"My Patch\" v-model=\"patchname\"><span class=\"file-ending\">.json</span>\n      </div>\n      <div class=\"buttonWrapper\">\n        <button @click=\"emitEvent('cancel', true)\" class=\"cancel\">cancel</button>\n        <button @click=\"emitEvent('save', true)\" :disabled=\"!patchname\">save</button>\n      </div>\n    </div>\n    <div class=\"modal loadmodal\" :class=\"{visible: visible && type === 'load'}\">\n      <h2>Select a valid .json patch file</h2>\n      <div class=\"text_input\">\n        <input type=\"file\" id=\"patchfile\" @change=\"loadFile\">\n      </div>\n      <div class=\"buttonWrapper\">\n        <button @click=\"emitEvent('cancel', true)\" class=\"cancel\">cancel</button>\n        <button @click=\"emitEvent('load', true)\">load</button>\n      </div>\n    </div>\n    <div v-if=\"type === 'start_collaboration'\">\n      <div class=\"modal start_collaboration_modal\" :class=\"{visible: visible && type === 'start_collaboration' && !store().state.sessionID && !collaboration_type && !session}\">\n        <h2>Collaborate</h2>\n        <div class=\"choice_buttons\">\n          <button @click=\"collaboration_type = 'create'\"><img src=\"@/assets/add.svg\"><p>Create Session</p></button>\n          <button @click=\"collaboration_type = 'join'\"><img src=\"@/assets/join.svg\"><p>Join Session</p></button>\n        </div>\n        <div class=\"buttonWrapper\">\n          <button @click=\"emitEvent('cancel', true)\" class=\"cancel\">cancel</button>\n        </div>\n      </div>\n      <div class=\"modal start_collaboration_modal\" :class=\"{visible: visible && type === 'start_collaboration' && !store().state.sessionID && collaboration_type === 'create'}\">\n        <h2>Start Collaboration</h2>\n        <div class=\"text_input\">\n          <input type=\"text\" v-model=\"username\" placeholder=\"your name\"><br>\n          <input type=\"password\" v-model=\"password\" placeholder=\"session password\"><br>\n          <input type=\"password\" v-model=\"retypePassword\" placeholder=\"repeat password\"><br>\n          <p class=\"help_text\">Set a password if you want to limit access to your session.<br>Otherwise, leave the fields blank.</p>\n        </div>\n        <div class=\"buttonWrapper\">\n          <button @click=\"emitEvent('cancel', true)\" class=\"cancel\">cancel</button>\n          <button @click=\"emitEvent('start_collaboration_button')\" :disabled=\"((password || retypePassword) && (password !== retypePassword) || !username)\">start collaborating</button>\n        </div>\n      </div>\n      <div class=\"modal start_collaboration_modal\" :class=\"{visible: visible && type === 'start_collaboration' && !store().state.sessionID && collaboration_type === 'join'}\">\n        <h2>Join Session</h2>\n        <div class=\"text_input\" v-if=\"!store().state.info\">\n          <input type=\"text\" v-model=\"username\" placeholder=\"your name\"><br>\n          <input type=\"text\" v-model=\"existingSessionID\" placeholder=\"session id\"><br>\n          <input type=\"password\" v-model=\"password\" placeholder=\"session password\"><br>\n          <p class=\"help_text error\" v-if=\"store().state.error\">{{store().state.error}}</p>\n          <p class=\"help_text\">Enter the Session ID you got from the host to join.</p>\n          <p class=\"help_text\"><b class=\"help_text error\">Warning:</b> Your current patch will get overwritten by the remote session's patch. Save your patch before joining if you want to keep it!</p>\n        </div>\n        <div class=\"text_input\" v-if=\"store().state.info\" style=\"display: flex; flex-direction: column; align-items: center\">\n          <span class=\"loader\"></span>\n          <p class=\"help_text\">{{store().state.info}}</p>\n        </div>\n        <div class=\"buttonWrapper\">\n          <button @click=\"emitEvent('cancel', true); store().commit('changeInfo', null); store().commit('changeError', null);\" class=\"cancel\">cancel</button>\n          <button @click=\"emitEvent('join_collaboration_button')\" :disabled=\"!existingSessionID || !username\" v-if=\"!store().state.info\">join</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"modal start_collaboration_modal\" :class=\"{visible: visible && type === 'start_collaboration' && store().state.sessionID && collaboration_type === 'create'}\">\n      <h2>Your Session has been successfully created!</h2>\n      <p>Your Session ID is: <b @click=\"copyText(store().state.sessionID)\">{{store().state.sessionID}}</b></p>\n      <p>Use this link to invite collaborators: <i><a :href=\"'https://sebastianbroc.github.io/websynth/?session=' + store().state.sessionID\">{{\"https://sebastianbroc.github.io/websynth/?session=\" + store().state.sessionID}}</a></i></p>\n      <div class=\"buttonWrapper\">\n        <button @click=\"emitEvent('cancel', true)\" class=\"finish\">start patching</button>\n      </div>\n    </div>\n    <div class=\"modal start_collaboration_modal\" :class=\"{visible: visible && type === 'start_collaboration' && store().state.sessionID && collaboration_type === 'join'}\">\n      <h2>You have successfully joined the Session!</h2>\n      <p>You are now Part of the Session <b>{{store().state.sessionID}}</b>!</p>\n      <div class=\"buttonWrapper\">\n        <button @click=\"emitEvent('cancel', true); sendRemount();\" class=\"finish\">start patching</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport store from \"@/store\";\nexport default {\n  name: 'ModuleBar',\n  props: ['visible', 'type', 'session'],\n  inject: [\"eventBus\"],\n  data() {\n    return {\n      username: null,\n      patchname: null,\n      patch: null,\n      password: null,\n      retypePassword: null,\n      collaboration_type: null,\n      existingSessionID: null\n    }\n  },\n  mounted(){\n    if(this.session){\n      this.existingSessionID = this.session\n      this.collaboration_type = \"join\"\n    }\n  },\n  methods: {\n    store(){\n      return store\n    },\n    emitEvent(type, reset){\n      if(type === \"save\"){\n        this.eventBus.emit(\"modal-click-save\", this.patchname)\n      } else if (type === \"load\"){\n        this.eventBus.emit(\"modal-click-load\", this.patch)\n      } else if (type === \"start_collaboration_button\"){\n        this.eventBus.emit(\"modal-click-start_collaboration\", {username: this.username, password: this.password})\n      } else if(type === \"join_collaboration_button\"){\n        this.eventBus.emit(\"modal-click-join_collaboration\", {id: this.existingSessionID, username: this.username, password: this.password})\n      } else if (type === \"cancel\"){\n        this.eventBus.emit(\"modal-click-cancel\")\n      }\n\n      if(reset) this.resetFields()\n    },\n    sendRemount(){\n      this.eventBus.emit(\"remountModules\", {})\n    },\n    loadFile(e){\n      let files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      this.readFile(files[0]);\n    },\n    readFile(file){\n      let reader = new FileReader();\n      reader.onload = e => {\n        this.patch = JSON.parse(JSON.stringify(e.target.result));\n      };\n      reader.readAsText(file);\n    },\n    copyText(text) {\n        navigator.clipboard.writeText(text);\n    },\n    resetFields(){\n      this.username = null\n      this.patch = null\n      this.patchname = null\n      this.password = null\n      this.retypePassword = null\n      this.collaboration_type = null\n      this.existingSessionID = null\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.modal {\n  border-radius: 5px;\n  display: none;\n  position: absolute;\n  padding: 10px;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  background: var(--c-secondary);\n  z-index: 1001;\n\n  &.visible {\n    display: flex;\n  }\n\n  flex-direction: column;\n  gap: 10px;\n\n  h2, p {\n    margin: 0;\n    font-weight: normal;\n    font-family: monospace;\n  }\n\n  b {\n    cursor: pointer;\n  }\n\n  b:hover {\n    background: var(--lighten);\n  }\n\n  #patchname, .file-ending, input {\n    background: transparent;\n    font-size: 1.2rem;\n    font-family: monospace;\n    border: none;\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  .file-ending {\n    color: grey;\n    user-select: none;\n  }\n\n  .buttonWrapper {\n    display: flex;\n    justify-content: end;\n    gap: 10px;\n\n    button {\n      cursor: pointer;\n      font-family: monospace;\n      background: none;\n\n      &.cancel {\n        border: solid 2px var(--warning-two);\n        color: var(--warning-two);\n      }\n\n      &.finish {\n        border: solid 2px green;\n        color: green;\n      }\n    }\n  }\n\n  .help_text {\n    font-family: monospace;\n    margin-top: 10px;\n\n    &.error {\n      color: red;\n    }\n  }\n\n  .choice_buttons {\n    display: flex;\n    gap: 10px;\n\n    button {\n      cursor: pointer;\n      width: 50%;\n      background: none;\n      border: solid 2px;\n      outline: none;\n\n      &:hover {\n        background: white;\n      }\n\n      img {\n        filter: invert(100%);\n        width: 80px;\n      }\n\n      p {\n        margin: 5px;\n        white-space: nowrap;\n      }\n    }\n  }\n}\n\n.loader{\n  display: block;\n  position: relative;\n  height: 20px;\n  width: 140px;\n  background-image:\n      linear-gradient(#FFF 20px, transparent 0),\n      linear-gradient(#FFF 20px, transparent 0),\n      linear-gradient(#FFF 20px, transparent 0),\n      linear-gradient(#FFF 20px, transparent 0);\n  background-repeat: no-repeat;\n  background-size: 20px auto;\n  background-position: 0 0, 40px 0, 80px 0, 120px 0;\n  animation: pgfill 1s linear infinite;\n}\n@keyframes pgfill {\n  0% {   background-image: linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0); }\n  25% {   background-image: linear-gradient(var(--c-primary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0); }\n  50% {   background-image: linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-primary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0); }\n  75% {   background-image: linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-primary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0); }\n  100% {   background-image: linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-secondary) 20px, transparent 0), linear-gradient(var(--c-primary) 20px, transparent 0); }\n}\n\n</style>\n","import { render } from \"./SaveModal.vue?vue&type=template&id=413e0a5b\"\nimport script from \"./SaveModal.vue?vue&type=script&lang=js\"\nexport * from \"./SaveModal.vue?vue&type=script&lang=js\"\n\nimport \"./SaveModal.vue?vue&type=style&index=0&id=413e0a5b&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {inject, ref} from \"vue\";\nimport {useStore} from \"vuex\";\nimport debounce from \"debounce\";\n\nexport default function useWebsocket() {\n    let socket = null\n    const store = useStore()\n    const eventBus = inject(\"eventBus\")\n\n    const socketConnected = ref(false)\n\n    function startConnection(callback){\n        //socket = new WebSocket(\"ws://localhost:8085\")\n        socket = new WebSocket(\"wss://websynth-websocket-server-8571bc9cbcfe.herokuapp.com\")\n\n        socket.onopen = () => {\n            callback()\n        }\n        socket.onmessage = onSocketMessage\n        socket.onclose = onSocketClose\n    }\n\n    function closeSession(){\n        socket.close()\n    }\n\n    function createSession(prop, patch){\n        socket.send(JSON.stringify({msg: \"new session\", username: prop.username, password: prop.password, patch: patch}))\n    }\n\n    function joinSession(id, pass, username){\n        socket.send(JSON.stringify({msg: \"join session\", id: id, password: pass, username: username}))\n    }\n\n    let sendChange = debounce((change, type) => {\n        if(socket){\n            //console.log({msg: \"change element\", element: JSON.stringify(change), type: type})\n            socket.send(JSON.stringify({msg: \"change element\", element: JSON.stringify(change), type: type}))\n        }\n    }, 0)\n\n    function sendInviteDecision(accept, id, patch){\n        socket.send(JSON.stringify({msg: \"inviteDecision\", accept: accept, userid: id, patch: patch}))\n    }\n\n    function onSocketMessage(evt){\n        let data = null\n        try{\n            data = JSON.parse(evt.data)\n        } catch {\n            data = {}\n        }\n\n        if(data.session_id){\n            //Joined the Session\n            store.commit('changeWebsocketConnected', true)\n            store.commit('changeSessionID', data.session_id)\n            store.commit('changeUserID', data.user_id)\n            eventBus.emit(\"init_user\", {\"username\": data.username, \"user_id\": data.user_id})\n\n            if(data.patch){\n                console.log(\"received initial patch\")\n                eventBus.emit(\"element_update\", data.patch)\n            }\n        } else if (data.error){\n            store.commit('changeError', data.error)\n            socket.close()\n        } else if (data.info){\n            //Waiting for confirmation by other users...\n            store.commit(\"changeInfo\", data.info)\n        } else if (data.acceptNewUser) {\n            store.commit(\"changeNotifications\", data.acceptNewUser.map(u => {return {...u, \"type\": \"acceptNewUser\"}}))\n        } else if(data.acceptance_status) {\n            if(data.acceptance_status === \"y\"){\n                store.commit('changeWebsocketConnected', true)\n                store.commit('changeSessionID', data.joined_session_id)\n                store.commit(\"changeUserID\", data.user_id)\n                eventBus.emit(\"element_update\", data.acceptance_patch)\n                eventBus.emit(\"init_user\", {\"username\": data.username, \"user_id\": data.user_id})\n            } else {\n                store.commit('changeError', \"Your request to join the session \" + data.joined_session_id + \" has been declined.\")\n                store.commit('changeInfo', null)\n            }\n        } else if (data.element_update){\n            eventBus.emit(\"element_update\", data.element_update)\n        } else if (data.change){\n            eventBus.emit(\"node_change\", {type: data.type, change: data.change})\n        }\n    }\n\n    function onSocketClose(){\n        socketConnected.value = false\n        store.commit('changeWebsocketConnected', false)\n        store.commit('changeSessionID', null)\n        store.commit('changeInfo', null)\n        eventBus.emit(\"removeCursors\")\n    }\n\n    return {\n        startConnection,\n        createSession,\n        joinSession,\n        sendChange,\n        closeSession,\n        sendInviteDecision\n    }\n}\n","<template>\n  <div class=\"synth_module\">\n    <!--<Handle type=\"target\" :position=\"Position.Top\" />-->\n    <div class=\"module_label\">\n      <div>\n        <h3>Oscillator</h3>\n        <p>{{ label }}</p>\n      </div>\n      <img class=\"icon\" src=\"@/assets/icons/icon_oscillator.png\">\n    </div>\n    <div class=\"controls\">\n      <div class=\"control_row\">\n        <ControlKnob v-model=\"node.data.frequency\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n        <input type=\"text\" v-model=\"node.data.frequency\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\"><span v-if=\"store.state.inputType === 'text'\">Hz</span>\n        <Handle type=\"target\" class=\"custom_handle port_input\" id=\"prop frequency\"></Handle>\n        <span style=\"margin: 0;\">frequency</span>\n      </div>\n      <div class=\"control_row cv\">\n        <ControlKnob v-model=\"node.data.cv_in_level\" :options=\"knobOptionsCV\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n        <input type=\"text\" v-model=\"node.data.cv_in_level\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n      </div>\n      <select v-model=\"node.data.waveform\" v-on:change=\"emitChange\">\n        <option value=\"sine\">Sine</option>\n        <option value=\"sawtooth\">Saw</option>\n        <option value=\"square\">Square</option>\n        <option value=\"triangle\">Triangle</option>\n      </select>\n      <div class=\"divider_row\"></div>\n      <div class=\"control_row\">\n        <Handle type=\"source\" class=\"custom_handle port_output\" id=\"out audio\" :position=\"Position.Bottom\" /><span>output</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport store from \"@/store\";\nimport {defineEmits, defineProps, inject, onMounted, reactive, watch} from 'vue'\nimport {Handle, Position, useNode} from \"@vue-flow/core\";\nconst {node} = useNode()\nconst emit = defineEmits(['nodesChange','moduleChanged'])\nconst eventBus = inject(\"eventBus\")\nimport ControlKnob from '@slipmatio/control-knob'\n\nconst knobOptions = {\n  bgClass: \"knobBG\",\n  svgClass: \"knobSVG\",\n  rimClass: \"knobRim\",\n  valueArchClass: \"knobValueArch\",\n  tickClass: \"knobTick\",\n  valueTextClass: \"knobText\",\n  minValue: 0,\n  maxValue: 20000,\n  hideDefaultValue: false,\n  wheelFactor: 1\n}\n\nconst knobOptionsCV = {...knobOptions, maxValue : 100, minValue: 1}\n\n// props were passed from the slot using `v-bind=\"customNodeProps\"`\n//eslint-disable-next-line\nconst props = defineProps(['id', 'label'])\n\nonMounted(() => {\n  mount()\n})\n\nlet mount = () => {\n  node.data = reactive({\n    ...node.data,\n    frequency: node.data.frequency ?? 400,\n    waveform: node.data.waveform ?? \"sine\",\n    cv_in_level: node.data.cv_in_level ?? 1,\n  })\n\n  watch(node.data, () => {\n    node.data.frequency = node.data.frequency === 0 ? \"0\" : node.data.frequency\n    emitChange();\n  })\n}\n\nlet emitChange = () => {\n  emit('moduleChanged', [{id: props.id, data: node.data}])\n}\n\neventBus.on('remountModules', () => {\n  mount()\n})\n\n</script>\n<style scoped>\nspan {\n  margin-left: 10px;\n}\n\n.controls {\n  display: flex;\n  flex-direction: column;\n}\n\nh3 {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  margin: 0;\n  padding: 0;\n  color: var(--c-semitransparent);\n  font-size: 0.6rem;\n}\n\ninput[type=text] {\n  width: 80px;\n}\n</style>\n","import script from \"./OscillatorModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OscillatorModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OscillatorModule.vue?vue&type=style&index=0&id=7bdac770&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7bdac770\"]])\n\nexport default __exports__","import script from \"./OutputModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OutputModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OutputModule.vue?vue&type=style&index=0&id=14ec61bf&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-14ec61bf\"]])\n\nexport default __exports__","<template>\n  <div class=\"synth_module\">\n    <div class=\"module_label\">\n      <div>\n        <h3>Filter</h3>\n        <p>{{ label }}</p>\n      </div>\n      <img class=\"icon\" src=\"@/assets/icons/icon_filter.png\">\n    </div>\n    <div class=\"controls\">\n      <div class=\"control_row\">\n        <ControlKnob v-model=\"node.data.frequency\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob><span>cutoff</span>\n        <input type=\"text\" v-model=\"node.data.frequency\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\"><span v-if=\"store.state.inputType === 'text'\">Hz</span>\n      </div>\n      <select v-model=\"node.data.type\" v-on:change=\"emitChange\">\n        <option value=\"lowpass\" selected>Low-Pass</option>\n        <option value=\"highpass\">High-Pass</option>\n        <option value=\"bandpass\">Band-Pass</option>\n        <option value=\"lowshelf\">Low-Shelf</option>\n        <option value=\"highshelf\">High-Shelf</option>\n        <option value=\"notch\">Notch</option>\n      </select>\n      <div class=\"divider_row\"></div>\n      <div class=\"control_row\">\n        <Handle id=\"prop frequency\" type=\"target\" class=\"custom_handle port_input\" :position=\"Position.Top\" /><span>cutoff in</span>\n        <ControlKnob v-model=\"node.data.cv_in_level\" :options=\"knobOptionsCV\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n        <input type=\"text\" v-model=\"node.data.cv_in_level\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n      </div>\n      <div class=\"control_row\">\n        <Handle id=\"main\" type=\"target\" class=\"custom_handle port_input\" :position=\"Position.Top\" /><span>signal in</span>\n      </div>\n      <div class=\"control_row\">\n        <Handle type=\"source\" class=\"custom_handle port_output\" :position=\"Position.Bottom\" /><span>output</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {defineProps, defineEmits, onMounted, reactive, watch, inject} from 'vue'\nimport {Handle, Position, useNode} from \"@vue-flow/core\";\nimport store from \"@/store\";\nimport ControlKnob from \"@slipmatio/control-knob\";\nconst emit = defineEmits(['nodesChange', 'moduleChanged'])\nconst eventBus = inject(\"eventBus\")\nconst {node} = useNode()\n\nconst knobOptions = {\n  bgClass: \"knobBG\",\n  svgClass: \"knobSVG\",\n  rimClass: \"knobRim\",\n  valueArchClass: \"knobValueArch\",\n  tickClass: \"knobTick\",\n  valueTextClass: \"knobText\",\n  minValue: 0,\n  maxValue: 20000,\n  hideDefaultValue: false,\n  wheelFactor: 2\n}\n\nconst knobOptionsCV = {...knobOptions, maxValue : 100, minValue: 1}\n\n// props were passed from the slot using `v-bind=\"customNodeProps\"`\n//eslint-disable-next-line\nconst props = defineProps(['id', 'label'])\n\nonMounted(() => {\n  mount()\n})\n\nlet mount = () => {\n  node.data = reactive({\n    ...node.data,\n    frequency: node.data.frequency ?? 400,\n    type: node.data.type ?? \"lowpass\",\n    cv_in_level: node.data.cv_in_level ?? 1,\n  })\n\n  watch(node.data, () => {\n    emitChange();\n  })\n}\n\neventBus.on('remountModules', () => {\n  mount()\n})\n\nlet emitChange = () => {\n  emit('moduleChanged', [{id: props.id, data: node.data}])\n}\n</script>\n<script>\nexport default {\n  data(){\n    return {\n      frequency: null,\n      waveform: \"sine\"\n    }\n  }\n}\n</script>\n<style scoped>\nspan {\n  margin-left: 10px;\n}\n\n.controls {\n  display: flex;\n  flex-direction: column;\n}\n\nh3 {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  margin: 0;\n  padding: 0;\n  color: var(--c-semitransparent);\n  font-size: 0.6rem;\n}\n\ninput[type=text] {\n  width: 80px;\n}\n</style>\n","import script from \"./FilterModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FilterModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FilterModule.vue?vue&type=style&index=0&id=78f8a582&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-78f8a582\"]])\n\nexport default __exports__","<template>\n  <div class=\"synth_module\">\n    <div class=\"module_label\">\n      <div>\n        <h3>Mixer</h3>\n        <p>{{ label }}</p>\n      </div>\n      <img class=\"icon\" src=\"@/assets/icons/icon_mixer.png\">\n    </div>\n    <div class=\"controls\">\n      <div class=\"volumes\" v-if=\"node.data.volumes\">\n        <div class=\"volume_row\">\n          <Handle id=\"1\" type=\"target\" class=\"custom_handle port_input\" :position=\"Position.Left\" />\n          <ControlKnob v-model=\"node.data.volumes[0]\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n          <input type=\"number\" value=\"100\" min=\"0\" v-model=\"node.data.volumes[0]\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          <span :class=\"{warning: node.data.volumes[0] > 1}\"></span>\n        </div>\n        <div class=\"volume_row\">\n          <Handle id=\"2\" type=\"target\" class=\"custom_handle port_input\" :position=\"Position.Left\"/>\n          <ControlKnob v-model=\"node.data.volumes[1]\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n          <input type=\"number\" value=\"100\" min=\"0\" v-model=\"node.data.volumes[1]\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          <span :class=\"{warning: node.data.volumes[1] > 1}\"></span>\n        </div>\n        <div class=\"volume_row\">\n          <Handle id=\"3\" type=\"target\" class=\"custom_handle port_input\" :position=\"Position.Left\"/>\n          <ControlKnob v-model=\"node.data.volumes[2]\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n          <input type=\"number\" value=\"100\" min=\"0\" v-model=\"node.data.volumes[2]\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          <span :class=\"{warning: node.data.volumes[2] > 1}\"></span>\n        </div>\n        <div class=\"volume_row\">\n          <Handle id=\"4\" type=\"target\" class=\"custom_handle port_input\" :position=\"Position.Left\"/>\n          <ControlKnob v-model=\"node.data.volumes[3]\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n          <input type=\"number\" value=\"100\" min=\"0\" v-model=\"node.data.volumes[3]\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          <span :class=\"{warning: node.data.volumes[3] > 1}\"></span>\n        </div>\n      </div>\n      <div class=\"divider_row\"></div>\n      <div class=\"control_row\">\n        <Handle type=\"source\" class=\"custom_handle port_output\" :position=\"Position.Bottom\" /><span>output</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {defineProps, defineEmits, onMounted, reactive, watch, inject} from 'vue'\nimport {Handle, Position, useNode} from \"@vue-flow/core\";\nimport store from \"@/store\";\nimport ControlKnob from \"@slipmatio/control-knob\";\nconst emit = defineEmits(['nodesChange','moduleChanged'])\nconst eventBus = inject(\"eventBus\")\nconst {node} = useNode()\n\nconst knobOptions = {\n  bgClass: \"knobBG\",\n  svgClass: \"knobSVG\",\n  rimClass: \"knobRim\",\n  valueArchClass: \"knobValueArch\",\n  tickClass: \"knobTick\",\n  valueTextClass: \"knobText\",\n  minValue: 0,\n  maxValue: 1,\n  hideDefaultValue: false,\n  wheelFactor: 1\n}\n\n// props were passed from the slot using `v-bind=\"customNodeProps\"`\n//eslint-disable-next-line\nconst props = defineProps(['id', 'label'])\n\nonMounted(() => {\n  mount()\n})\n\nlet mount = () => {\n  node.data = reactive({\n    ...node.data,\n    volumes: node.data.volumes ?? [1,1,1,1],\n    channels: node.data.channels ?? 4\n  })\n\n  watch(node.data, () => {\n    emitChange();\n  })\n}\n\neventBus.on('remountModules', () => {\n  mount()\n})\n\nlet emitChange = () => {\n  emit('moduleChanged', [{id: props.id, data: node.data}])\n}\n</script>\n<style scoped>\n.controls {\n  display: flex;\n  flex-direction: column;\n}\n\n.volumes {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n\n  .volume_row {\n    display: flex !important;\n    align-items: center;\n    gap: 10px;\n\n    span {\n      min-width: 10px;\n      min-height: 10px;\n      display: inline-block;\n      border-radius: 100px;\n    }\n  }\n}\n\nh3 {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  margin: 0;\n  padding: 0;\n  color: var(--c-semitransparent);\n  font-size: 0.6rem;\n}\n\ninput[type=number] {\n  width: 60px;\n}\n</style>\n","import script from \"./MixerModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MixerModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MixerModule.vue?vue&type=style&index=0&id=5321de41&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5321de41\"]])\n\nexport default __exports__","<template>\n  <div class=\"synth_module\">\n    <div class=\"module_label\">\n      <div>\n        <h3>Envelope</h3>\n        <p>{{ label }}</p>\n      </div>\n      <img class=\"icon\" src=\"@/assets/icons/icon_envelope.png\">\n    </div>\n    <div class=\"controls\">\n      <div class=\"control_row\">\n        <span>A</span>\n        <div class=\"control_row\">\n          <input type=\"number\" min=\"0\" v-model=\"node.data.attack\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          <ControlKnob v-model=\"node.data.attack\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n          <span>ms</span>\n        </div>\n      </div>\n      <div class=\"control_row\">\n        <span>D</span>\n        <div class=\"control_row\">\n          <input type=\"number\" min=\"0\" v-model=\"node.data.decay\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          <ControlKnob v-model=\"node.data.decay\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n          <span>ms</span>\n        </div>\n      </div>\n      <div class=\"control_row\">\n        <span>S</span>\n        <div class=\"control_row\">\n          <input type=\"number\" min=\"0\" v-model=\"node.data.sustain\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          <ControlKnob v-model=\"node.data.sustain\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n          <span>ms</span>\n        </div>\n      </div>\n      <div class=\"control_row\">\n        <span>R</span>\n        <div class=\"control_row\">\n          <input type=\"number\" min=\"0\" v-model=\"node.data.release\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          <ControlKnob v-model=\"node.data.release\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n          <span>ms</span>\n        </div>\n      </div>\n      <div class=\"control_row\">\n        <span>intensity</span>\n        <div class=\"control_row\">\n          <input type=\"number\" min=\"0\" v-model=\"node.data.intensity\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          <ControlKnob v-model=\"node.data.intensity\" :options=\"{...knobOptions, minValue: 1}\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n        </div>\n      </div>\n      <div class=\"divider_row\"></div>\n      <div class=\"ports\">\n        <div><Handle type=\"source\" class=\"custom_handle port_input\" id=\"clock_in\" :position=\"Position.Left\" /><span>trigger in</span></div>\n        <div><Handle type=\"source\" class=\"custom_handle port_output\" :position=\"Position.Bottom\" /><span>output</span></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {defineProps, defineEmits, onMounted, reactive, watch, inject} from 'vue'\nimport {Handle, Position, useNode} from \"@vue-flow/core\";\nimport store from \"@/store\";\nimport ControlKnob from \"@slipmatio/control-knob\";\nconst emit = defineEmits(['nodesChange','moduleChanged'])\nconst eventBus = inject(\"eventBus\")\nconst {node} = useNode()\n\n// props were passed from the slot using `v-bind=\"customNodeProps\"`\n//eslint-disable-next-line\nconst props = defineProps(['id', 'label'])\n\nconst knobOptions = {\n  bgClass: \"knobBG\",\n  svgClass: \"knobSVG\",\n  rimClass: \"knobRim\",\n  valueArchClass: \"knobValueArch\",\n  tickClass: \"knobTick\",\n  valueTextClass: \"knobText\",\n  minValue: 0,\n  maxValue: 1000,\n  hideDefaultValue: false,\n  wheelFactor: 2\n}\n\nonMounted(() => {\n  mount()\n})\n\nlet mount = () => {\n  node.data = reactive({\n    ...node.data,\n    attack: node.data.attack ?? 10,\n    decay: node.data.decay ?? 10,\n    sustain: node.data.sustain ?? 10,\n    release: node.data.release ?? 10,\n    intensity: node.data.intensity ?? 1\n  })\n\n  watch(node.data, () => {\n    emitChange();\n  })\n}\n\neventBus.on('remountModules', () => {\n  mount()\n})\n\nlet emitChange = () => {\n  emit('moduleChanged', [{id: props.id, data: node.data}])\n}\n</script>\n<style scoped>\nspan {\n  margin-left: 10px;\n}\n\n.controls {\n  display: flex;\n  flex-direction: column;\n\n  .control_row {\n    display: flex;\n    gap: 10px;\n    align-items: center;\n  }\n\n  .ports {\n    display: flex;\n    flex-direction: column;\n\n    div {\n      display: flex;\n      align-items: center;\n    }\n  }\n}\n\nh3 {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  margin: 0;\n  padding: 0;\n  color: var(--c-semitransparent);\n  font-size: 0.6rem;\n}\n\ninput[type=number] {\n  width: 50px;\n}\n</style>\n","import script from \"./EnvelopeModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EnvelopeModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EnvelopeModule.vue?vue&type=style&index=0&id=b5aba87c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b5aba87c\"]])\n\nexport default __exports__","import script from \"./VCAModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VCAModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VCAModule.vue?vue&type=style&index=0&id=72cb8052&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-72cb8052\"]])\n\nexport default __exports__","<template>\n  <div v-if=\"id !== store.state.userID\">\n    <!--<img src=\"@/assets/cursor.svg\" alt=\"user cursor\" :style=\"{color: node.data.color}\">-->\n    <svg width=\"407\" height=\"401\" viewBox=\"0 0 407 401\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" :style=\"{color: node.data.color}\">\n      <path d=\"M2.292 20.9095C-3.26493 9.05044 9.05043 -3.26497 20.9095 2.29196L398.528 179.236C413.469 186.237 406.112 208.805 389.915 205.656L176.675 164.194C166.848 162.284 158.25 171.004 160.299 180.803L202.671 383.435C206.072 399.7 183.341 407.288 176.29 392.241L2.292 20.9095Z\" fill=\"currentColor\"/>\n    </svg>\n    <p>{{node.data.username}}</p>\n  </div>\n</template>\n\n<script setup>\nimport {defineProps, onMounted} from 'vue'\nimport {useNode} from \"@vue-flow/core\";\nimport {useStore} from \"vuex\";\nconst {node} = useNode()\nconst store = useStore()\n\n// props were passed from the slot using `v-bind=\"customNodeProps\"`\n//eslint-disable-next-line\nconst props = defineProps(['id', 'label'])\n\nonMounted(() => {\n})\n</script>\n\n<style scoped>\n svg {\n   width: 40px;\n   height: 40px;\n }\n\n p {\n   position: absolute;\n   top: 20%;\n   left: 60%;\n   font-size: 0.8rem;\n   text-align: center;\n   background: var(--c-primary);\n   font-family: monospace;\n   padding: 10px;\n   border-radius: 2px;\n }\n</style>\n","import script from \"./CursorModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CursorModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CursorModule.vue?vue&type=style&index=0&id=69f8324a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-69f8324a\"]])\n\nexport default __exports__","<template>\n  <div class=\"synth_module\">\n    <div class=\"module_label\">\n      <div>\n        <h3>Sequencer</h3>\n        <p>{{ label }}</p>\n      </div>\n      <img class=\"icon\" src=\"@/assets/icons/icon_sequencer.png\">\n    </div>\n    <div class=\"controls\">\n      <div class=\"sequencer_row\">\n          <div v-for=\"(step, i) in node.data.steps\" :key=\"i\" class=\"step\">\n            <span class=\"current_step_light\" :class=\"{active: node.data.currentStep === i}\"></span>\n            <ControlKnob v-model=\"node.data.steps[i]\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n            <input type=\"number\" min=\"0\" v-model=\"node.data.steps[i]\" v-on:input=\"emitChange\" v-if=\"store.state.inputType === 'text'\">\n          </div>\n      </div>\n      <div class=\"divider_row\"></div>\n      <div class=\"control_row\">\n        <div><Handle type=\"source\" class=\"custom_handle port_input\" id=\"clock_in\" :position=\"Position.Bottom\" /><span>clock in</span></div>\n        <div><Handle type=\"source\" class=\"custom_handle port_output\" :position=\"Position.Bottom\"/><span>output</span></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {defineProps, defineEmits, onMounted, onBeforeMount, reactive, watch, inject} from 'vue'\nimport {Handle, Position, useNode} from \"@vue-flow/core\";\nimport store from \"@/store\";\nimport ControlKnob from \"@slipmatio/control-knob\";\nconst emit = defineEmits(['nodesChange', 'moduleChanged', 'advanceStep'])\nconst eventBus = inject(\"eventBus\")\nconst {node} = useNode()\n\n// props were passed from the slot using `v-bind=\"customNodeProps\"`\n//eslint-disable-next-line\nconst props = defineProps(['id', 'label'])\n\nconst knobOptions = {\n  bgClass: \"knobBG\",\n  svgClass: \"knobSVG\",\n  rimClass: \"knobRim\",\n  valueArchClass: \"knobValueArch\",\n  tickClass: \"knobTick\",\n  valueTextClass: \"knobText\",\n  minValue: 0,\n  maxValue: 5000,\n  hideDefaultValue: false,\n  wheelFactor: 2\n}\n\n\nonBeforeMount(() => {\n  node.data = {\n    ...node.data,\n    steps : node.data.steps ?? [0],\n    currentStep: node.data.currentStep ?? 0\n  }\n})\n\nonMounted(() => {\n  mount()\n})\n\nlet mount = () => {\n  node.data = reactive({\n    ...node.data,\n    steps : buildStepsArray(16),\n    currentStep: 0\n  })\n\n  watch(node.data.steps, () => {\n    emitChange();\n  })\n}\n\neventBus.on('remountModules', () => {\n  mount()\n})\n\n//eslint-disable-next-line\nlet next = () => {\n  if(node.data.currentStep < 15){\n    node.data.currentStep++\n  } else {\n    node.data.currentStep = 0\n  }\n\n  emitAdvanceStep();\n}\n\nlet buildStepsArray = (length) => {\n  let array = []\n  for(let i=0; i<length; i++){\n    array.push((node.data.steps && node.data.steps[i]) ?? 0)\n  }\n  return array\n}\n\nlet emitChange = () => {\n  emit('moduleChanged', [{id: props.id, data: node.data}])\n}\n\nlet emitAdvanceStep = () => {\n  emit('advanceStep', [{id: props.id, data: node.data}])\n}\n\neventBus.on(\"triggerModule\", (id) => {\n  if(id === props.id){\n    next();\n  }\n})\n</script>\n<style scoped>\nspan {\n  margin-left: 10px;\n}\n\n.controls {\n  display: flex;\n  flex-direction: column;\n\n  .control_row {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    align-items: start;\n\n    div {\n      display: flex;\n      align-items: center;\n    }\n  }\n\n  .sequencer_row {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n\n    .current_step_light {\n      min-width: 5px;\n      min-height: 5px;\n      display: inline-block;\n      background: var(--c-secondary);\n\n      &.active {\n        background: white;\n        box-shadow: 0 0 5px var(--c-secondary);\n      }\n    }\n  }\n}\n\nh3 {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  margin: 0;\n  padding: 0;\n  color: var(--c-semitransparent);\n  font-size: 0.6rem;\n}\n\ninput[type=number] {\n  width: 50px;\n}\n</style>\n","import script from \"./SequencerModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SequencerModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SequencerModule.vue?vue&type=style&index=0&id=31251900&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-31251900\"]])\n\nexport default __exports__","<template>\n  <div class=\"synth_module\">\n    <div class=\"module_label\">\n      <div>\n        <h3>Clock</h3>\n        <p>{{ label }}</p>\n      </div>\n      <img class=\"icon\" src=\"@/assets/icons/icon_clock.png\">\n    </div>\n    <div class=\"controls\">\n      <div class=\"control_row\">\n        <ControlKnob v-model=\"node.data.interval\" :options=\"knobOptions\" v-if=\"store.state.inputType === 'knob'\"></ControlKnob>\n        <input type=\"number\" min=\"0\" v-model=\"node.data.interval\" v-if=\"store.state.inputType === 'text'\">\n        <span class=\"triggered_light\" :class=\"{active: triggered}\"></span>\n        <span>interval</span>\n      </div>\n      <div class=\"control_row\" style=\"justify-content: space-between;\">\n        <button @click=\"togglePause\" style=\"margin-left: 3px;\">\n          <img alt=\"pause button\" class=\"icon\" src=\"@/assets/icons/icon_pause.png\" v-if=\"!node.data.paused\">\n          <img alt=\"play button\" class=\"icon\" src=\"@/assets/icons/icon_play.png\" v-if=\"node.data.paused\">\n        </button>\n        <span>play/pause</span>\n      </div>\n      <div class=\"divider_row\"></div>\n      <div class=\"control_row\">\n        <div><Handle type=\"source\" class=\"custom_handle port_output\" :position=\"Position.Bottom\"/><span>output</span></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {defineProps, defineEmits, onMounted, reactive, watch, ref, inject} from 'vue'\nimport {Handle, Position, useNode} from \"@vue-flow/core\";\nimport store from \"@/store\";\nimport ControlKnob from \"@slipmatio/control-knob\";\nconst emit = defineEmits(['nodesChange', 'clockTrigger', 'moduleChanged'])\nconst eventBus = inject(\"eventBus\")\nconst {node} = useNode()\n\n//eslint-disable-next-line\nconst props = defineProps(['id', 'label'])\n\nconst knobOptions = {\n  bgClass: \"knobBG\",\n  svgClass: \"knobSVG\",\n  rimClass: \"knobRim\",\n  valueArchClass: \"knobValueArch\",\n  tickClass: \"knobTick\",\n  valueTextClass: \"knobText\",\n  minValue: 1,\n  maxValue: 1000,\n  hideDefaultValue: false,\n  wheelFactor: 1\n}\n\nlet triggered = ref(false)\nlet timeouts = ref([])\n\nonMounted(() => {\n  mount()\n  timeoutHandler()\n})\n\nlet mount = () => {\n  node.data = reactive({\n    ...node.data,\n    interval: node.data.interval ?? 1000,\n    paused: node.data.paused ?? false\n  })\n\n  trigger()\n\n  watch(node.data, () => {\n    emitChange();\n  })\n}\n\neventBus.on('remountModules', () => {\n  mount()\n})\n\nlet togglePause = () => {\n  node.data.paused = !node.data.paused;\n  emitChange();\n  timeoutHandler()\n}\n\nlet trigger = () => {\n  if(!node.data.paused && timeouts.value.length === 0){\n    triggered.value = true\n    setTimeout(turnOffTriggered, 100)\n    timeouts.value.push(setTimeout(timeoutHandler, node.data.interval))\n    emitTrigger()\n  }\n}\n\nlet timeoutHandler = () => {\n  clearTimeouts()\n  trigger()\n}\n\nlet clearTimeouts = () => {\n  timeouts.value.forEach((to, i) => {\n    timeouts.value.splice(i, 1)\n  })\n}\n\nlet turnOffTriggered = () => {\n  triggered.value = false\n}\n\nlet emitTrigger = () => {\n  emit('clockTrigger', [{id: props.id, data: node.data}])\n}\n\nlet emitChange = () => {\n  emit('moduleChanged', [{id: props.id, data: node.data}])\n}\n</script>\n<style scoped>\nspan {\n  margin-left: 10px;\n}\n\n.controls {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n\n  .control_row {\n    display: flex;\n    gap: 10px;\n    align-items: center;\n\n    div {\n      display: flex;\n      align-items: center;\n    }\n\n    .triggered_light {\n      min-width: 5px;\n      min-height: 5px;\n      display: inline-block;\n      background: var(--c-secondary);\n\n      &.active {\n        background: white;\n        display: inline-block;\n        box-shadow: 0 0 5px var(--c-secondary);\n      }\n    }\n  }\n}\n\nh3 {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  margin: 0;\n  padding: 0;\n  color: var(--c-semitransparent);\n  font-size: 0.6rem;\n}\n\ninput[type=number] {\n  width: 50px;\n}\n\nbutton {\n  cursor: pointer;\n  background: var(--c-secondary);\n  border-radius: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: none;\n\n  img {\n    width: 20px;\n  }\n\n  &:hover {\n    background: var(--lighten);\n  }\n}\n</style>\n","import script from \"./ClockModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ClockModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ClockModule.vue?vue&type=style&index=0&id=83fbf676&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-83fbf676\"]])\n\nexport default __exports__","export default function useWebsocket() {\n\n    let conversionArray = [\n        {\"midi\": 21, \"note\": \"A0\", \"frequency\": 27.50},\n        {\"midi\": 22, \"note\": \"A#0/Bb0\", \"frequency\": 29.14},\n        {\"midi\": 23, \"note\": \"B0\", \"frequency\": 30.87},\n        {\"midi\": 24, \"note\": \"C1\", \"frequency\": 32.70},\n        {\"midi\": 25, \"note\": \"C#1/Db1\", \"frequency\": 34.65},\n        {\"midi\": 26, \"note\": \"D1\", \"frequency\": 36.71},\n        {\"midi\": 27, \"note\": \"D#1/Eb1\", \"frequency\": 38.89},\n        {\"midi\": 28, \"note\": \"E1\", \"frequency\": 41.20},\n        {\"midi\": 29, \"note\": \"F1\", \"frequency\": 43.65},\n        {\"midi\": 30, \"note\": \"F#1/Gb1\", \"frequency\": 46.25},\n        {\"midi\": 31, \"note\": \"G1\", \"frequency\": 49.00},\n        {\"midi\": 32, \"note\": \"G#1/Ab1\", \"frequency\": 51.91},\n        {\"midi\": 33, \"note\": \"A1\", \"frequency\": 55.00},\n        {\"midi\": 34, \"note\": \"A#1/Bb1\", \"frequency\": 58.27},\n        {\"midi\": 35, \"note\": \"B1\", \"frequency\": 61.74},\n        {\"midi\": 36, \"note\": \"C2\", \"frequency\": 65.41},\n        {\"midi\": 37, \"note\": \"C#2/Db2\", \"frequency\": 69.30},\n        {\"midi\": 38, \"note\": \"D2\", \"frequency\": 73.42},\n        {\"midi\": 39, \"note\": \"D#2/Eb2\", \"frequency\": 77.78},\n        {\"midi\": 40, \"note\": \"E2\", \"frequency\": 82.41},\n        {\"midi\": 41, \"note\": \"F2\", \"frequency\": 87.31},\n        {\"midi\": 42, \"note\": \"F#2/Gb2\", \"frequency\": 92.50},\n        {\"midi\": 43, \"note\": \"G2\", \"frequency\": 98.00},\n        {\"midi\": 44, \"note\": \"G#2/Ab2\", \"frequency\": 103.83},\n        {\"midi\": 45, \"note\": \"A2\", \"frequency\": 110.00},\n        {\"midi\": 46, \"note\": \"A#2/Bb2\", \"frequency\": 116.54},\n        {\"midi\": 47, \"note\": \"B2\", \"frequency\": 123.47},\n        {\"midi\": 48, \"note\": \"C3\", \"frequency\": 130.81},\n        {\"midi\": 49, \"note\": \"C#3/Db3\", \"frequency\": 138.59},\n        {\"midi\": 50, \"note\": \"D3\", \"frequency\": 146.83},\n        {\"midi\": 51, \"note\": \"D#3/Eb3\", \"frequency\": 155.56},\n        {\"midi\": 52, \"note\": \"E3\", \"frequency\": 164.81},\n        {\"midi\": 53, \"note\": \"F3\", \"frequency\": 174.61},\n        {\"midi\": 54, \"note\": \"F#3/Gb3\", \"frequency\": 185.00},\n        {\"midi\": 55, \"note\": \"G3\", \"frequency\": 196.00},\n        {\"midi\": 56, \"note\": \"G#3/Ab3\", \"frequency\": 207.65},\n        {\"midi\": 57, \"note\": \"A3\", \"frequency\": 220.00},\n        {\"midi\": 58, \"note\": \"A#3/Bb3\", \"frequency\": 233.08},\n        {\"midi\": 59, \"note\": \"B3\", \"frequency\": 246.94},\n        {\"midi\": 60, \"note\": \"C4\", \"frequency\": 261.63},\n        {\"midi\": 61, \"note\": \"C#4/Db4\", \"frequency\": 277.18},\n        {\"midi\": 62, \"note\": \"D4\", \"frequency\": 293.66},\n        {\"midi\": 63, \"note\": \"D#4/Eb4\", \"frequency\": 311.13},\n        {\"midi\": 64, \"note\": \"E4\", \"frequency\": 329.63},\n        {\"midi\": 65, \"note\": \"F4\", \"frequency\": 349.23},\n        {\"midi\": 66, \"note\": \"F#4/Gb4\", \"frequency\": 369.99},\n        {\"midi\": 67, \"note\": \"G4\", \"frequency\": 392.00},\n        {\"midi\": 68, \"note\": \"G#4/Ab4\", \"frequency\": 415.30},\n        {\"midi\": 69, \"note\": \"A4\", \"frequency\": 440.00},\n        {\"midi\": 70, \"note\": \"A#4/Bb4\", \"frequency\": 466.16},\n        {\"midi\": 71, \"note\": \"B4\", \"frequency\": 493.88},\n        {\"midi\": 72, \"note\": \"C5\", \"frequency\": 523.25},\n        {\"midi\": 73, \"note\": \"C#5/Db5\", \"frequency\": 554.37},\n        {\"midi\": 74, \"note\": \"D5\", \"frequency\": 587.33},\n        {\"midi\": 75, \"note\": \"D#5/Eb5\", \"frequency\": 622.25},\n        {\"midi\": 76, \"note\": \"E5\", \"frequency\": 659.26},\n        {\"midi\": 77, \"note\": \"F5\", \"frequency\": 698.46},\n        {\"midi\": 78, \"note\": \"F#5/Gb5\", \"frequency\": 739.99},\n        {\"midi\": 79, \"note\": \"G5\", \"frequency\": 783.99},\n        {\"midi\": 80, \"note\": \"G#5/Ab5\", \"frequency\": 830.61},\n        {\"midi\": 81, \"note\": \"A5\", \"frequency\": 880.00},\n        {\"midi\": 82, \"note\": \"A#5/Bb5\", \"frequency\": 932.33},\n        {\"midi\": 83, \"note\": \"B5\", \"frequency\": 987.77},\n        {\"midi\": 84, \"note\": \"C6\", \"frequency\": 1046.50},\n        {\"midi\": 85, \"note\": \"C#6/Db6\", \"frequency\": 1108.73},\n        {\"midi\": 86, \"note\": \"D6\", \"frequency\": 1174.66},\n        {\"midi\": 87, \"note\": \"D#6/Eb6\", \"frequency\": 1244.51},\n        {\"midi\": 88, \"note\": \"E6\", \"frequency\": 1318.51},\n        {\"midi\": 89, \"note\": \"F6\", \"frequency\": 1396.91},\n        {\"midi\": 90, \"note\": \"F#6/Gb6\", \"frequency\": 1479.98},\n        {\"midi\": 91, \"note\": \"G6\", \"frequency\": 1567.98},\n        {\"midi\": 92, \"note\": \"G#6/Ab6\", \"frequency\": 1661.22},\n        {\"midi\": 93, \"note\": \"A6\", \"frequency\": 1760.00},\n        {\"midi\": 94, \"note\": \"A#6/Bb6\", \"frequency\": 1864.66},\n        {\"midi\": 95, \"note\": \"B6\", \"frequency\": 1975.53},\n        {\"midi\": 96, \"note\": \"C7\", \"frequency\": 2093.00},\n        {\"midi\": 97, \"note\": \"C#7/Db7\", \"frequency\": 2217.46},\n        {\"midi\": 98, \"note\": \"D7\", \"frequency\": 2349.32},\n        {\"midi\": 99, \"note\": \"D#7/Eb7\", \"frequency\": 2489.02},\n        {\"midi\": 100, \"note\": \"E7\", \"frequency\": 2637.02},\n        {\"midi\": 101, \"note\": \"F7\", \"frequency\": 2793.83},\n        {\"midi\": 102, \"note\": \"F#7/Gb7\", \"frequency\": 2959.96},\n        {\"midi\": 103, \"note\": \"G7\", \"frequency\": 3135.96},\n        {\"midi\": 104, \"note\": \"G#7/Ab7\", \"frequency\": 3322.44},\n        {\"midi\": 105, \"note\": \"A7\", \"frequency\": 3520.00},\n        {\"midi\": 106, \"note\": \"A#7/Bb7\", \"frequency\": 3729.31},\n        {\"midi\": 107, \"note\": \"B7\", \"frequency\": 3951.07},\n        {\"midi\": 108, \"note\": \"C8\", \"frequency\": 4186.01}\n    ]\n\n    function convert(midiCode){\n        return conversionArray.find(m => m.midi === midiCode)\n    }\n\n\n    return {\n        convert\n    }\n}\n","<template>\n  <div class=\"synth_module\">\n    <div class=\"module_label\">\n      <div>\n        <h3>Midi</h3>\n        <p>{{ label }}</p>\n      </div>\n      <img class=\"icon\" src=\"@/assets/icons/icon_midi.png\">\n    </div>\n    <div class=\"controls\">\n      <div class=\"control_row\" v-if=\"midiDevice\">\n        <span>Device: <br>{{midiDevice}}</span>\n      </div>\n      <div class=\"divider_row\"></div>\n      <div class=\"control_row\" v-if=\"midiDevice\">\n        <span>{{midiData ? 'Data: ' +  midiData : \"No Data Received yet\"}}</span>\n      </div>\n      <div class=\"control_row\">\n        <span v-if=\"midiNote\">Note: {{midiNote}} {{node.data.frequency}}Hz</span>\n      </div>\n      <div class=\"divider_row\"></div>\n      <div class=\"control_row\">\n        <Handle type=\"source\" class=\"custom_handle port_output\" :position=\"Position.Bottom\" /><span>output</span>\n      </div>\n    </div>\n    <p v-if=\"!midiGranted\" class=\"warning\">Midi Access <br>not granted</p>\n  </div>\n</template>\n\n<script setup>\nimport {defineProps, defineEmits, onMounted, reactive, ref, watch} from 'vue'\nimport {Handle, Position, useNode} from \"@vue-flow/core\";\nimport midiNoteConverter from '@/mixins/midiNoteConverter'\nconst emit = defineEmits(['nodesChange', 'moduleChanged'])\nconst {node} = useNode()\n\n// props were passed from the slot using `v-bind=\"customNodeProps\"`\n//eslint-disable-next-line\nconst props = defineProps(['id', 'label'])\n\nconst noteConverter = new midiNoteConverter()\n\nlet midiGranted = ref(false)\nlet midiDevice = ref(null)\nlet midiData = ref(null)\nlet midiNote = ref(null)\n//eslint-disable-next-line\nlet midiObj = null\n\nonMounted(() => {\n  node.data = reactive({\n    ...node.data,\n    frequency: null\n  })\n\n  watch(node.data, () => {\n    emitChange();\n  })\n\n  navigator.permissions.query({ name: \"midi\", sysex: true }).then((result) => {\n    if (result.state === \"granted\") {\n      // Access granted.\n      midiGranted.value = true\n      navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);\n      return 0\n    } else if (result.state === \"prompt\") {\n      // Using API will prompt for permission\n      return 0\n    }\n    // Permission was denied by user prompt or permission policy\n    midiGranted.value = false\n  });\n})\n\nlet onMIDISuccess = (midiAccess) => {\n  console.log(\"MIDI ready!\");\n  midiObj = midiAccess; // store in the global (in real usage, would probably keep in an object instance)\n  listInputsAndOutputs(midiObj)\n  startLoggingMIDIInput(midiObj)\n}\n\nlet onMIDIFailure = (msg) => {\n  console.error(`Failed to get MIDI access - ${msg}`);\n}\n\nlet startLoggingMIDIInput = (midiAccess) => {\n  midiAccess.inputs.forEach((entry) => {\n    entry.onmidimessage = onMIDIMessage;\n  });\n}\n\nlet onMIDIMessage = (event) => {\n  //ignore clock and \"active sensing\" midi values, also do only update the current value if something changed\n  if(midiData.value != event.data && event.data[0] !== 248 && event.data[0] !== 254){\n    midiData.value = event.data\n    let convertedValue = noteConverter.convert(event.data[1])\n    midiNote.value = convertedValue.note\n    node.data.frequency = convertedValue.frequency\n    emitChange()\n  }\n}\n\nlet listInputsAndOutputs = (midiAccess) => {\n  for (const entry of midiAccess.inputs) {\n    const input = entry[1];\n    if(input.type === \"input\") midiDevice.value = input.name\n\n    console.log(\n        `Input port [type:'${input.type}']` +\n        ` id:'${input.id}'` +\n        ` manufacturer:'${input.manufacturer}'` +\n        ` name:'${input.name}'` +\n        ` version:'${input.version}'`,\n    );\n  }\n\n  for (const entry of midiAccess.outputs) {\n    const output = entry[1];\n    console.log(\n        `Output port [type:'${output.type}'] id:'${output.id}' manufacturer:'${output.manufacturer}' name:'${output.name}' version:'${output.version}'`,\n    );\n  }\n}\n\nlet emitChange = () => {\n  emit('moduleChanged', [{id: props.id, data: node.data}])\n}\n</script>\n<script>\nexport default {\n  data(){\n    return {\n      frequency: null,\n      waveform: \"sine\"\n    }\n  }\n}\n</script>\n<style scoped>\n.synth_module {\n  width: 200px;\n}\n\n.controls {\n  display: flex;\n  flex-direction: column;\n}\n\nh3 {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  margin: 0;\n  padding: 0;\n  color: var(--c-semitransparent);\n  font-size: 0.6rem;\n}\n\n.warning {\n  margin: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: rgba(0,0,0, 0.8) !important;\n  text-align: center;\n  border-radius: 5px;\n  font-size: 0.8rem;\n}\n\ninput[type=text] {\n  width: 80px;\n}\n</style>\n","import script from \"./MidiModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MidiModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MidiModule.vue?vue&type=style&index=0&id=550bad44&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-550bad44\"]])\n\nexport default __exports__","<template>\n  <div class=\"synth_module\">\n    <div class=\"controls\">\n      <img class=\"icon\" src=\"@/assets/icons/icon_comment.png\">\n      <div class=\"control_row\">\n        <textarea v-model=\"node.data.comment\" @load='this.style.height = \"\";this.style.height = this.scrollHeight + \"px\"' oninput='this.style.height = \"\";this.style.height = this.scrollHeight + \"px\"' placeholder=\"Your Comment here...\"></textarea>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {defineEmits, defineProps, inject, onMounted, reactive, watch} from 'vue'\nimport {useNode} from \"@vue-flow/core\";\nconst emit = defineEmits(['moduleChanged'])\nconst eventBus = inject(\"eventBus\")\nconst {node} = useNode()\n\n// props were passed from the slot using `v-bind=\"customNodeProps\"`\n//eslint-disable-next-line\nconst props = defineProps(['id', 'label'])\n\n\nonMounted(() => {\n  mount()\n})\n\nlet mount = () => {\n  node.data = reactive({\n    ...node.data,\n    comment: node.data.comment ?? \"\"\n  })\n\n  watch(node.data, () => {\n    emitChange();\n  })\n}\n\neventBus.on('remountModules', () => {\n  mount()\n})\n\nlet emitChange = () => {\n  emit('moduleChanged', [{id: props.id, data: node.data}])\n}\n\n</script>\n<style scoped>\n.controls {\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n  align-items: start;\n\n  img {\n    width: 30px;\n  }\n}\n\nh3 {\n  margin: 0;\n  padding: 0;\n}\n\np {\n  margin: 0;\n  padding: 0;\n  color: var(--c-semitransparent);\n  font-size: 0.6rem;\n}\n\ninput[type=text] {\n  width: 80px;\n}\n\ntextarea {\n  background: transparent;\n  resize: none;\n  border: none;\n}\n</style>\n","import script from \"./CommentModule.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CommentModule.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CommentModule.vue?vue&type=style&index=0&id=14c72f76&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-14c72f76\"]])\n\nexport default __exports__","<template>\n  <div class=\"workspace\" @drop=\"getModules([onDrop($event)], 'create');\" @mouseover=\"updateMousePos\" @mousemove=\"updateMousePos\">\n    <NotificationCenter></NotificationCenter>\n    <ModuleBar></ModuleBar>\n    <SaveModal :visible=\"saveModalVisible\" :type=\"modalType\" :session=\"querySession\"></SaveModal>\n    <div class=\"disable_workspace\" :class=\"{active: store.state.modalOpened}\"></div>\n    <VueFlow :nodes=\"elements\" :node-types=\"nodeTypes\" :snap-to-grid=\"true\" :snap-grid=\"[20,20]\" :connect-on-click=\"true\" @nodesChange=\"getModules($event, 'nodes')\" @edgesChange=\"getModules($event, 'edges')\" @pane-ready=\"setInstance\" @dragover=\"onDragOver\" @dragleave=\"onDragLeave\">\n      <Background />\n      <MiniMap />\n      <template #node-oscillator=\"customNodeProps\">\n        <OscillatorModule v-bind=\"customNodeProps\" @moduleChanged=\"getModules($event, 'data')\" />\n      </template>\n      <template #node-filter=\"customNodeProps\">\n        <FilterModule v-bind=\"customNodeProps\" @moduleChanged=\"getModules($event, 'data')\" />\n      </template>\n      <template #node-output=\"customNodeProps\">\n        <OutputModule v-bind=\"customNodeProps\" :deletable=\"false\" @moduleChanged=\"getModules($event, 'data')\" />\n      </template>\n      <template #node-mixer=\"customNodeProps\">\n        <MixerModule v-bind=\"customNodeProps\" @moduleChanged=\"getModules($event, 'data')\" />\n      </template>\n      <template #node-envelope=\"customNodeProps\">\n        <EnvelopeModule v-bind=\"customNodeProps\" @moduleChanged=\"getModules($event, 'data')\" />\n      </template>\n      <template #node-vca=\"customNodeProps\">\n        <VCAModule v-bind=\"customNodeProps\" @moduleChanged=\"getModules($event, 'data')\" />\n      </template>\n      <template #node-cursor=\"customNodeProps\">\n        <CursorModule v-bind=\"customNodeProps\" @moduleChanged=\"getModules($event, 'data')\" />\n      </template>\n      <template #node-sequencer=\"customNodeProps\">\n        <SequencerModule v-bind=\"customNodeProps\" @moduleChanged=\"getModules($event, 'data')\" @advanceStep=\"advanceStep($event)\" />\n      </template>\n      <template #node-clock=\"customNodeProps\">\n        <ClockModule v-bind=\"customNodeProps\" @clockTrigger=\"clockTrigger($event[0].id)\" @moduleChanged=\"getModules($event, 'data')\" />\n      </template>\n      <template #node-midi=\"customNodeProps\">\n        <MidiModule v-bind=\"customNodeProps\" @moduleChanged=\"getModules($event, 'data')\" />\n      </template>\n      <template #node-comment=\"customNodeProps\">\n        <CommentModule v-bind=\"customNodeProps\" @moduleChanged=\"getModules($event, 'data')\"/>\n      </template>\n    </VueFlow>\n  </div>\n</template>\n\n<script setup>\n// This component is the main workspace of the application.\n// It handles the frontend-side of the modules and talks to MainView.vue to integrate changes in the audio context.\n\n\n// ---------- SETUP ---------- //\nimport { VueFlow } from '@vue-flow/core'\nimport { Background } from '@vue-flow/background'\nimport { MiniMap } from '@vue-flow/minimap'\nimport {useVueFlow} from '@vue-flow/core';\nimport download from 'downloadjs';\nimport '@vue-flow/minimap/dist/style.css'\nimport ModuleBar from \"@/components/ModuleBar.vue\"\nimport NotificationCenter from \"@/components/NotificationCenter.vue\";\nimport SaveModal from \"@/components/SaveModal.vue\";\nimport {ref, markRaw, onMounted, inject} from 'vue';\nimport {useStore} from 'vuex';\nimport {set, get} from 'idb-keyval'\nimport debounce from \"debounce\";\nimport useDragAndDrop from '@/mixins/useDnD'\nimport useWebsocket from \"@/mixins/websocketHandler\";\nimport OscillatorModule from \"@/components/synth_modules/OscillatorModule.vue\";\nimport OutputModule from \"@/components/synth_modules/OutputModule.vue\";\nimport FilterModule from \"@/components/synth_modules/FilterModule.vue\";\nimport MixerModule from \"@/components/synth_modules/MixerModule.vue\";\nimport EnvelopeModule from \"@/components/synth_modules/EnvelopeModule.vue\";\nimport VCAModule from \"@/components/synth_modules/VCAModule.vue\";\nimport CursorModule from \"@/components/synth_modules/CursorModule.vue\";\nimport SequencerModule from \"@/components/synth_modules/SequencerModule.vue\";\nimport ClockModule from \"@/components/synth_modules/ClockModule.vue\";\nimport MidiModule from \"@/components/synth_modules/MidiModule.vue\";\nimport CommentModule from \"@/components/synth_modules/CommentModule.vue\";\nconst store = useStore()\nimport { useRouter } from 'vue-router'\nconst { toObject, fromObject, onConnect, addEdges, applyNodeChanges, applyEdgeChanges, screenToFlowCoordinate } = useVueFlow()\nonConnect(addEdges)\nconst eventBus = inject(\"eventBus\")\nlet {startConnection, createSession, joinSession, sendChange, closeSession, sendInviteDecision} = useWebsocket()\nlet router = useRouter()\n// eslint-disable-next-line no-undef\nconst emit = defineEmits(['updateElements', 'triggerModule', 'elementChanges'])\nconst saveModalVisible = ref(false)\nconst modalType = ref(\"\")\nconst querySession = ref(router.currentRoute.value.query.session)\n\nlet vueFlowInstance = null;\nconst nodeTypes = {\n  oscillator: markRaw(OscillatorModule),\n  output: markRaw(OutputModule),\n  filter: markRaw(FilterModule),\n  mixer: markRaw(MixerModule),\n  envelope: markRaw(EnvelopeModule),\n  vca: markRaw(VCAModule),\n  cursor: markRaw(CursorModule),\n  sequencer: markRaw(SequencerModule),\n  clock: markRaw(ClockModule),\n  midi: markRaw(MidiModule),\n  comment: markRaw(CommentModule)\n}\n\nlet elements = ref([\n  {\n    id: '4',\n    type: 'output',\n    label: 'Output',\n    position: { x: 500, y: 300 }\n  }\n])\n\nconst initial_elements = {\n  \"nodes\": [\n    {\n      \"id\": \"1\",\n      \"type\": \"output\",\n      \"position\": {\n        \"x\": 500,\n        \"y\": 300\n      },\n      \"data\": {},\n      \"label\": \"Output\"\n    }\n  ],\n  \"edges\": [],\n  \"position\": [\n    0,\n    0\n  ],\n  \"zoom\": 1,\n  \"viewport\": {\n    \"x\": 0,\n    \"y\": 0,\n    \"zoom\": 1\n  }\n}\n\nlet updateMousePos = debounce((event) => {\n  let pos = screenToFlowCoordinate({\n    x: event.clientX,\n    y: event.clientY,\n  })\n  applyNodeChanges([{\"id\":store.state.userID,\"type\":\"position\",\"dragging\":false,\"position\":{\"x\":pos.x,\"y\":pos.y,\"z\":0}}]);\n  getModules([{id: store.state.userID, type: 'position', position: { x: pos.x, y: pos.y }}], \"nodes\")\n}, 10)\n\nonMounted(() => {\n  get(\"flow\").then(value => {\n    let flow = null\n    if(typeof value !== \"undefined\"){\n      flow = JSON.parse(value)\n    } else {\n      console.log(\"created initial elements\")\n      flow = initial_elements\n    }\n\n    if(flow.nodes.filter(n => n.type === \"output\").length === 0){ //make sure there always is an output\n      flow.nodes.push({id: '4', type: 'output', label: 'Output', position: { x: 500, y: 300 }})\n    }\n\n    fromObject(flow)\n    removeCursors()\n  })\n  getModules()\n\n  if(router.currentRoute.value.query.session){\n    //open modal to join session if session code is present in query\n    saveModalVisible.value = true\n    modalType.value = \"start_collaboration\"\n    store.commit('changeModalOpened', true)\n  }\n})\n\n// ---------- FUNCTIONS ---------- //\nlet removeCursors = () => {\n  let patch = toObject()\n  patch.nodes.forEach((node, i) => {\n    if(node.type === \"cursor\"){\n      patch.nodes.splice(i, 1)\n    }\n  })\n  fromObject(patch)\n}\n\nconst downloadPatch = (exportName) => {\n  console.log(\"downloading patch now...\")\n  download(JSON.stringify(toObject()), exportName + \".json\")\n}\n\nconst setInstance = (instance) => {\n  console.log(\"instance has been set\")\n  vueFlowInstance = instance\n  getModules()\n}\nconst getModules = (changes, type) => {\n  if (vueFlowInstance) {\n    let elements = vueFlowInstance.getElements\n    emit('updateElements', elements)\n    set(\"flow\", JSON.stringify(toObject()))\n\n    if(changes && Array.isArray(changes)){\n      changes.forEach(change => {\n        emit('elementChanges', elements._value.find(e => e.id === change.id))\n        if(store.state.websocketConnected){\n          sendChange(change, type)\n        }\n      })\n    }\n  }\n}\n\nconst clockTrigger = (id) => {\n  if(vueFlowInstance && getModuleChildren(id).length > 0 && getModuleChildren(id)[0].targetNode){\n    getModuleChildren(id).forEach(child => {\n      eventBus.emit(\"triggerModule\", child.targetNode.id)\n    })\n  }\n}\n\nconst advanceStep = (module) => {\n  if (vueFlowInstance) {\n    let elements = vueFlowInstance.getElements\n    emit('elementChanges', elements._value.find(e => e.id === module[0].id))\n  }\n}\n\nconst initDragAndDrop = () => {\n  get(\"flow\").then(value => {\n    let flow = null\n    if(typeof value !== \"undefined\"){\n      flow = JSON.parse(value)\n    } else {\n      console.log(\"created initial elements\")\n      flow = initial_elements\n    }\n    //make sure the id of new elements starts after the highest id currently present\n    let max = flow.nodes.map(e => {return parseInt(e.id.substring(8))}).filter(e => !isNaN(e))\n    max = Math.max(...max)\n    initializeId(max === -Infinity ? 0 : max + 1)\n  })\n}\n\nconst getModuleChildren = (id) => {\n  //m.type == \"default\" is used to search in edges (connections between modules) which are part of the elements array\n  let elements = vueFlowInstance.getElements._value\n  return elements.filter(m => m.type == \"default\" && m.sourceNode.id === id)\n}\n\nconst { onDragOver, onDrop, onDragLeave, initializeId } = useDragAndDrop()\ninitDragAndDrop()\n\n// ---------- EVENT BUS  ---------- //\n\neventBus.on(\"getModules\", (param) => {\n  if(param === \"getModules\"){\n    getModules()\n  }\n})\n\neventBus.on(\"navBar-click\", (param) => {\n  switch(param){\n    case \"reset workspace\":\n      console.log(\"resetting workspace...\")\n      fromObject(initial_elements)\n      getModules()\n      break;\n    case \"save patch to file\":\n      saveModalVisible.value = true\n      modalType.value = \"save\"\n      store.commit('changeModalOpened', true)\n      break;\n    case \"load patch from file\":\n      saveModalVisible.value = true\n      modalType.value = \"load\"\n      store.commit('changeModalOpened', true)\n      break;\n    case \"start collaboration\":\n      saveModalVisible.value = true\n      store.commit('changeModalOpened', true)\n      modalType.value = \"start_collaboration\"\n      break;\n    case \"end collaboration\":\n      closeSession()\n      break;\n    case \"toggle input display\":\n      store.commit(\"toggleInputType\")\n      break;\n  }\n})\n\neventBus.on(\"loadSamplepatch\", (patchname) => {\n  fetch(\"./sample_patches/\" + patchname + \".json\").then(res => {\n    res.text().then(data => {\n      fromObject(JSON.parse(data))\n      getModules()})\n    })\n})\n\neventBus.on(\"modal-click-cancel\", () => {\n  saveModalVisible.value = false\n  store.commit('changeModalOpened', false)\n})\n\neventBus.on(\"modal-click-save\", (param) => {\n  downloadPatch(param)\n  saveModalVisible.value = false\n  store.commit('changeModalOpened', false)\n})\n\neventBus.on(\"modal-click-load\", (param) => {\n  //reset the workspace - delete all elements and pause playback to ensure the new patch is loaded in correctly\n  eventBus.emit(\"navBar-click\", 'reset workspace')\n  eventBus.emit(\"navBar-click\", 'pause playback')\n  let elements = vueFlowInstance.getElements\n  emit('updateElements', elements)\n  saveModalVisible.value = false\n  store.commit('changeModalOpened', false)\n\n  let flow = JSON.parse(param)\n  fromObject(flow)\n})\n\neventBus.on(\"modal-click-start_collaboration\", (param) => {\n  startConnection(() => {\n    createSession(param, JSON.stringify(toObject()))\n  })\n})\n\neventBus.on(\"modal-click-join_collaboration\", (param) => {\n  startConnection(() => {\n    joinSession(param.id, param.password, param.username)\n  })\n})\n\neventBus.on(\"element_update\", (elements) => {\n  elements = elements.toString()\n  fromObject(JSON.parse(elements)).then(() => {\n    elements = vueFlowInstance.getElements\n    let max = elements._value.map(e => {return parseInt(e.id.substring(8))}).filter(e => !isNaN(e))\n    max = Math.max(...max)\n    initializeId(max === -Infinity ? 0 : max + 1)\n    emit('updateElements', elements)\n  })\n})\n\neventBus.on(\"init_user\", (user) => {\n  let nodes = toObject()\n  if(!nodes.nodes.find(n => n.id === user.user_id)){\n    nodes.nodes.push({id: user.user_id, type: 'cursor', data: {username: user.username}, position: { x: 500, y: 300 }})\n    fromObject(nodes)\n\n    getModules([{id: user.user_id, type: 'cursor', data: {username: user.username}, position: { x: 500, y: 300 }}], \"create\")\n  }\n})\n\neventBus.on(\"node_change\", (change) => {\n  let nodes = null\n  switch(change.type){\n    case \"nodes\":\n      applyNodeChanges([JSON.parse(change.change)])\n      break;\n    case \"create\":\n      nodes = toObject()\n      nodes.nodes.push(JSON.parse(change.change))\n      fromObject(nodes)\n      break;\n    case \"edges\":\n      applyEdgeChanges([JSON.parse(change.change)])\n      break;\n    case \"data\":\n      change = JSON.parse(change.change)\n      nodes = toObject()\n      nodes.nodes.forEach(node => {\n        if(node.id === change.id){\n          Object.assign(node.data, change.data)\n        }\n      })\n      fromObject(nodes)\n      break;\n  }\n\n  let elements = vueFlowInstance.getElements\n  eventBus.emit(\"remountModules\", {})\n  emit('updateElements', elements)\n  emit('elementChanges', elements._value.find(e => e.id === change.id))\n})\n\neventBus.on(\"handleInvite\", (params) => {\n  sendInviteDecision(params.accept, params.userid, JSON.stringify(toObject()))\n})\n\neventBus.on(\"removeCursors\", () => {\n  removeCursors()\n})\n</script>\n<style>\n@import '@vue-flow/core/dist/style.css';\n@import '@vue-flow/core/dist/theme-default.css';\n\n.workspace {\n  position: relative;\n  width: 100%;\n  height: 90vh;\n}\n\n.disable_workspace {\n  display: none;\n\n  &.active {\n    display: block;\n    background: rgba(0,0,0,0.5);\n    width: 100vw;\n    height: 100vh;\n    position: absolute;\n    left: 0;\n    top: 0;\n    z-index: 1000;\n  }\n}\n\n.synth_module {\n  border: solid 1px black;\n  padding: 10px;\n  border-radius: 5px;\n  font-family: monospace;\n}\n\n\n.module_label {\n  margin-bottom: 5px;\n}\n</style>\n","import script from \"./WorkSpace.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./WorkSpace.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./WorkSpace.vue?vue&type=style&index=0&id=175ec6f2&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"navbar\">\n    <div class=\"navbar-content one-third\">\n      <a><b>websynth</b> //</a>\n      <div class=\"category hide-on-small-vp\">\n        <a @click=\"e => {hideOtherMenus(e.target); e.target.classList.toggle('active');}\">patch</a>\n        <div class=\"options\">\n          <button @click=\"emitEvent('save patch to file')\">save patch to file</button>\n          <button @click=\"emitEvent('load patch from file')\">load patch from file</button>\n          <span class=\"divider\">Example Patches</span>\n          <button @click=\"loadSamplepatch('strangerthings')\" :disabled=\"store().state.websocketConnected\">stranger things</button>\n          <button @click=\"loadSamplepatch('glockenspiel')\" :disabled=\"store().state.websocketConnected\">glockenspiel</button>\n          <button @click=\"loadSamplepatch('melodic_robot')\" :disabled=\"store().state.websocketConnected\">melodic robot</button>\n        </div>\n      </div>\n      <div class=\"category hide-on-small-vp\">\n        <a @click=\"e => {hideOtherMenus(e.target); e.target.classList.toggle('active');}\">view</a>\n        <div class=\"options\">\n          <button @click=\"emitEvent('toggle input display')\"><span v-if=\"store().state.inputType === 'text'\"> </span>display inputs as text</button>\n        </div>\n      </div>\n      <div class=\"category hide-on-small-vp\">\n        <a @click=\"e => {hideOtherMenus(e.target); e.target.classList.toggle('active');}\">options</a>\n        <div class=\"options\">\n          <button @click=\"emitEvent('reset workspace')\">reset workspace</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"playback_controls one-third\">\n      <button @click=\"emitEvent('pause playback'); this.playing = false;\" v-if=\"playing\">\n        <img class=\"icon\" src=\"@/assets/icons/icon_pause.png\"><span>pause</span>\n      </button>\n      <button @click=\"emitEvent('start playback'); this.playing = true;\" v-if=\"!playing\">\n        <img class=\"icon\" src=\"@/assets/icons/icon_play.png\"><span>play</span>\n      </button>\n    </div>\n    <div class=\"websocket-status one-third\">\n      <button v-if=\"!store().state.websocketConnected\" class=\"collaborate\" @click=\"emitEvent('start collaboration')\"><img src=\"@/assets/collaborate.svg\">collaborate</button>\n      <div class=\"connection_status\" v-if=\"store().state.websocketConnected\">\n        <div v-if=\"store().state.websocketConnected\" id=\"connected\"></div><div v-else id=\"disconnected\"></div><p>Session <b>{{store().state.websocketConnected ? store().state.sessionID: 'disconnected'}}</b></p>\n        <button class=\"collaborate\" @click=\"emitEvent('end collaboration')\">disconnect</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport store from \"@/store\";\nexport default {\n  name: 'NavBar',\n  inject: [\"eventBus\"],\n  data() {\n    return {\n      playing: false\n    }\n  },\n  methods: {\n    store() {\n      return store\n    },\n    emitEvent(param){\n      this.eventBus.emit(\"navBar-click\", param)\n    },\n    loadSamplepatch(patchname){\n      this.eventBus.emit(\"loadSamplepatch\", patchname)\n      this.eventBus.emit(\"navBar-click\", \"pause playback\")\n      this.playing = false;\n    },\n    hideOtherMenus(e){\n      let elements = document.querySelectorAll(\".category a\")\n      elements.forEach(element => {\n        if (element !== e) {\n          element.classList.remove(\"active\")\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.navbar {\n  width: 100vw;\n  background: var(--c-tertiary);\n  display: flex;\n  justify-content: space-between;\n  position: relative;\n  /*border-bottom: solid 1px black;*/\n}\n\n.navbar-content {\n  margin-left: 10px;\n  padding: 8px 0 8px 0;\n  display: flex;\n\n  .category {\n    .options {\n      display: none;\n      position: absolute;\n      background: white;\n      padding: 10px;\n      z-index: 1001;\n\n      span {\n        font-size: 0.8rem;\n\n        &.divider {\n          font-weight: bold;\n          margin-top: 10px;\n          display: inline-block;\n          background: none;\n          width: 100%;\n        }\n      }\n\n      button {\n        text-align: left;\n        font-size: 0.8rem;\n        background: none;\n        border: none;\n        cursor: pointer;\n\n        &:hover {\n          background: var(--c-tertiary);\n        }\n      }\n    }\n\n    &:has(a.active) {\n      background: var(--lighten);\n\n      .options {\n        display: flex;\n        flex-direction: column;\n      }\n    }\n  }\n\n  a {\n    padding: 0 4px 0 4px;\n    border-radius: 2px;\n    white-space: nowrap;\n\n    &:hover {\n      cursor: pointer;\n      background: var(--lighten);\n    }\n  }\n}\n\n.playback_controls {\n  display: flex;\n  justify-content: center;\n  padding: 3px;\n\n  button {\n    cursor: pointer;\n    background: var(--c-secondary);\n    border-radius: 5px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border: none;\n\n    &:hover {\n      background: var(--lighten);\n    }\n  }\n\n  .icon {\n    width: 20px;\n  }\n}\n\n.websocket-status {\n  display: flex;\n  justify-content: end;\n  padding-right: 10px;\n  align-items: center;\n  gap: 10px;\n\n  p {\n    font-family: monospace;\n    margin: 0;\n  }\n\n  .connection_status {\n    display: flex;\n    align-items: center;\n    gap: 5px;\n\n    div {\n      width: 10px;\n      height: 10px;\n      border-radius: 100%;\n\n      &#connected {\n        background: green;\n      }\n\n      &#disconnected {\n        background: red;\n      }\n    }\n  }\n\n  .collaborate {\n    cursor: pointer;\n    background: var(--c-secondary);\n    border: none;\n    outline: none;\n    border-radius: 5px;\n    display: flex;\n    align-items: center;\n    gap: 5px;\n\n    &:hover {\n      background: white;\n    }\n\n    img {\n      filter: invert(100%);\n    }\n  }\n}\n\n.one-third {\n  width: 33%;\n}\n</style>\n","import { render } from \"./NavBar.vue?vue&type=template&id=0f797e9a\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=0f797e9a&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default function EnvelopeGenerator(context, a, d, s, r, i) {\n\n    this.context = context\n    this.attackTime = a;\n    this.decayTime = d;\n    this.sustainTime = s;\n    this.releaseTime = r;\n    this.intensity = i;\n\n    EnvelopeGenerator.prototype.updateData = (a, d, s, r, i) => {\n        this.attackTime = a;\n        this.decayTime = d;\n        this.sustainTime = s;\n        this.releaseTime = r;\n        this.intensity = i;\n    }\n\n    EnvelopeGenerator.prototype.trigger = function() {\n        if(this.param){\n            let now = this.context.currentTime;\n            this.param.cancelScheduledValues(now);\n            this.param.setValueAtTime(0, now);\n            this.param.linearRampToValueAtTime(1 * this.intensity, now + this.attackTime);\n            this.param.linearRampToValueAtTime(0.5 * this.intensity, now + this.attackTime + this.decayTime);\n            this.param.linearRampToValueAtTime(0.5 * this.intensity, now + this.attackTime + this.decayTime + this.sustainTime);\n            this.param.linearRampToValueAtTime(0, now + this.attackTime + this.decayTime + this.sustainTime + this.releaseTime);\n        }\n    };\n\n    EnvelopeGenerator.prototype.connect = function(param) {\n        this.param = param;\n    };\n\n    EnvelopeGenerator.prototype.disconnect = function() {\n        this.param = null;\n    };\n}\n","import { render } from \"./MainView.vue?vue&type=template&id=4165c8bc\"\nimport script from \"./MainView.vue?vue&type=script&lang=js\"\nexport * from \"./MainView.vue?vue&type=script&lang=js\"\n\nimport \"./MainView.vue?vue&type=style&index=0&id=4165c8bc&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport MainView from '../views/MainView.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: MainView\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.NODE_ENV === \"production\" ? \"/websynth/\" : \"/\"),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport mitt from 'mitt'\nimport App from './App.vue'\nimport './registerServiceWorker'\nimport router from './router'\nimport store from './store'\n\nconst eventBus = mitt();\n\ncreateApp(App).use(store).use(router).provide('eventBus', eventBus).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/websynth/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebsynth\"] = self[\"webpackChunkwebsynth\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(560); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_router_view","script","__exports__","render","register","ready","console","log","registered","cached","updatefound","updated","offline","error","class","_createElementBlock","_hoisted_1","_createVNode","_component_NavBar","_component_WorkSpace","onUpdateElements","$options","updateElements","onElementChanges","handleChanges","id","getId","state","draggedType","ref","isDragOver","isDragging","useDragAndDrop","addNodes","screenToFlowCoordinate","onNodesInitialized","updateNode","useVueFlow","initializeId","start_id","onDragStart","event","type","dataTransfer","setData","effectAllowed","value","document","addEventListener","onDragEnd","onDragOver","preventDefault","dropEffect","onDragLeave","removeEventListener","onDrop","position","x","clientX","y","clientY","nodeId","newNode","label","off","node","dimensions","width","height","watch","dragging","body","style","userSelect","__default__","name","data","expanded","methods","toggleExpansion","this","_Fragment","_renderList","store","notifications","notification","key","_createElementVNode","_createTextVNode","_toDisplayString","username","_hoisted_2","onClick","$event","handleInvite","userid","_hoisted_3","_hoisted_4","createStore","playbackHalted","modalOpened","websocketConnected","sessionID","userID","info","inputType","getters","mutations","changePlaybackState","p","changeModalOpened","changeWebsocketConnected","changeSessionID","changeUserID","changeError","changeInfo","changeNotifications","toggleInputType","actions","modules","inject","accept","eventBus","emit","src","_imports_0","_hoisted_12","_hoisted_13","_imports_1","_hoisted_15","_hoisted_16","_normalizeClass","visible","$props","placeholder","_cache","$data","patchname","emitEvent","disabled","_hoisted_5","_hoisted_6","_hoisted_7","onChange","args","loadFile","_hoisted_8","_hoisted_9","collaboration_type","session","_hoisted_10","_hoisted_11","_hoisted_14","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","password","_hoisted_22","retypePassword","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_createCommentVNode","_hoisted_28","_hoisted_29","existingSessionID","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","commit","_hoisted_39","_hoisted_40","copyText","href","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","sendRemount","props","patch","mounted","reset","resetFields","e","files","target","length","readFile","file","reader","FileReader","onload","JSON","parse","stringify","result","readAsText","text","navigator","clipboard","writeText","useWebsocket","socket","useStore","socketConnected","startConnection","callback","WebSocket","onopen","onmessage","onSocketMessage","onclose","onSocketClose","closeSession","close","createSession","prop","send","msg","joinSession","pass","sendChange","debounce","change","element","sendInviteDecision","evt","session_id","user_id","acceptNewUser","map","u","acceptance_status","joined_session_id","acceptance_patch","element_update","useNode","__emit","knobOptions","bgClass","svgClass","rimClass","valueArchClass","tickClass","valueTextClass","minValue","maxValue","hideDefaultValue","wheelFactor","knobOptionsCV","__props","onMounted","mount","reactive","frequency","waveform","cv_in_level","emitChange","on","volumes","channels","attack","decay","sustain","release","intensity","onBeforeMount","steps","currentStep","buildStepsArray","next","emitAdvanceStep","array","i","push","triggered","timeouts","timeoutHandler","interval","paused","trigger","togglePause","setTimeout","turnOffTriggered","emitTrigger","clearTimeouts","forEach","to","splice","conversionArray","convert","midiCode","find","m","midi","noteConverter","midiNoteConverter","midiGranted","midiDevice","midiData","midiNote","midiObj","permissions","query","sysex","then","requestMIDIAccess","onMIDISuccess","onMIDIFailure","midiAccess","listInputsAndOutputs","startLoggingMIDIInput","inputs","entry","onmidimessage","onMIDIMessage","convertedValue","note","input","manufacturer","version","outputs","output","comment","toObject","fromObject","onConnect","addEdges","applyNodeChanges","applyEdgeChanges","router","useRouter","saveModalVisible","modalType","querySession","currentRoute","vueFlowInstance","nodeTypes","oscillator","markRaw","OscillatorModule","OutputModule","filter","FilterModule","mixer","MixerModule","envelope","EnvelopeModule","vca","VCAModule","cursor","CursorModule","sequencer","SequencerModule","clock","ClockModule","MidiModule","CommentModule","elements","initial_elements","updateMousePos","pos","getModules","get","flow","nodes","n","removeCursors","downloadPatch","exportName","download","setInstance","instance","changes","getElements","set","Array","isArray","_value","clockTrigger","getModuleChildren","targetNode","child","advanceStep","module","initDragAndDrop","max","parseInt","substring","isNaN","Math","Infinity","sourceNode","param","fetch","res","toString","user","Object","assign","params","_imports_2","hideOtherMenus","classList","toggle","loadSamplepatch","playing","querySelectorAll","remove","EnvelopeGenerator","context","a","d","s","r","attackTime","decayTime","sustainTime","releaseTime","prototype","updateData","now","currentTime","cancelScheduledValues","setValueAtTime","linearRampToValueAtTime","connect","disconnect","components","WorkSpace","NavBar","audioContext","mainVolume","audioNodeList","initAudio","resetConnectionStatus","$store","destination","moduleId","triggerModule","AudioContext","createGain","gain","connected","handleNodeList","buildConnection","handleOrphans","getModuleChild","source","audioNode","targetAudioNode","sourceModule","targetHandle","includes","handleBounds","cvControls","start","handleDisconnection","Node","isNewNode","createdNewNode","ConstantSourceNode","offset","gainNodes","newGainNode","createBiquadFilter","buildCVControls","createOscillator","controls","out","ctrl","index","match","routes","path","component","MainView","createRouter","history","createWebHistory","mitt","createApp","App","use","provide","__webpack_module_cache__","__webpack_require__","cachedModule","undefined","exports","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","keys","every","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","Function","window","obj","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}